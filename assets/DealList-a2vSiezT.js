var Ko=Object.defineProperty;var o=(e,t)=>Ko(e,"name",{value:t,configurable:!0});import{r as v,C as Jo,L as Xo,u as Qo,a as Zo,b as es,c as ts,d as ns,e as Wt,f as ur,g as rs,h as fr,i as os,j as ss,k as is,l as yn,m as g,F as pr,n as gr,o as mr,p as hr,q as as,B as br,X as ls,_ as cs,s as ds,t as us,v as fs,I as xr,w as vr,x as ps,y as yr,z as gs,A as ms,D as hs,E as bs,G as Dn,H as Be,T as Cn,J as xs,K as vs,R as ys,M as Ds,N as Cs,O as Ss,P as L,Q as Is,S as Dr,U as he,V as ws,W as Es,Y as Vt,Z as Ut,$ as it,a0 as at,a1 as lt,a2 as ct,a3 as Cr,a4 as Ps,a5 as Sr,a6 as Rt,a7 as Ae,a8 as Ir,a9 as Ns,aa as As,ab as $e,ac as Ot,ad as Ht,ae as dt,af as Rs,ag as wr,ah as Er,ai as Pr,aj as qt,ak as Os,al as Nr,am as Ar,an as Rr,ao as Je,ap as Ts,aq as Bs,ar as Or,as as Tr,at as js,au as Ls,av as Ms,aw as Fs,ax as _s,ay as Gs,az as ks,aA as $s,aB as Ws,aC as Vs,aD as Br,aE as Us,aF as Hs,aG as qs,aH as zs,aI as Ys,aJ as Ks,aK as Js,aL as Xs,aM as Qs,aN as Zs}from"./index-44ve9qmp.js";var ei=o(function(){var e=v.useContext(Jo);if(!e)throw new Error("useCreateContext must be used inside a CreateContextProvider");return e},"useCreateContext"),ti=o(function(){var e=v.useContext(Xo);if(!e)throw new Error("useListFilterContext must be used inside a ListFilterContextProvider");return e},"useListFilterContext"),Re=function(){return Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Re.apply(this,arguments)},ni=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},ri=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},oi=o(function(e){var t,n=e.debounce,r=e.enableGetChoices,s=e.filter,i=e.page,a=i===void 0?1:i,l=e.perPage,c=l===void 0?25:l,d=e.sort,p=d===void 0?{field:"id",order:"DESC"}:d,f=e.queryOptions,u=f===void 0?{}:f,m=e.reference,h=e.source,x=Qo().getValues,b=Zo(h),D=(t=es({name:b}))!==null&&t!==void 0?t:x(b),C=u.meta,E=ni(u,["meta"]),S=ts(m,{ids:D||si,meta:C},{enabled:D!=null&&D.length>0}),I=S.data,P=S.error,O=S.isLoading,T=S.isFetching,k=S.isPaused,N=S.isPending,A=S.isPlaceholderData,$=S.refetch,K=ns({resource:m,page:a,perPage:c,sort:p,debounce:n,filter:s}),j=K[0],_=K[1],se=I?I.filter(Boolean):[],ye=r?r(j.filterValues):!0,W=Wt(m,{pagination:{page:j.page,perPage:j.perPage},sort:{field:j.sort,order:j.order},filter:Re(Re({},j.filter),s),meta:C},Re({retry:!1,enabled:ye,placeholderData:o(function(H){return H},"placeholderData")},E)),ee=W.data,de=W.total,te=W.pageInfo,De=W.error,ie=W.isLoading,Ue=W.isFetching,Ce=W.isPaused,Se=W.isPending,He=W.isPlaceholderData,qe=W.refetch,ue=ee&&ee.length>0?ii(ee,se):se.length>0?se:ee,Ie=v.useCallback(function(){$(),qe()},[$,qe]),vn=v.useMemo(function(){return{field:j.sort,order:j.order}},[j.sort,j.order]);return{sort:vn,allChoices:ue,availableChoices:ee,selectedChoices:se,displayedFilters:j.displayedFilters,error:P||De,filter:s,filterValues:j.filterValues,hideFilter:_.hideFilter,isFetching:T||Ue,isLoading:O||ie,isPaused:k||Ce,isPending:N||Se,isPlaceholderData:A||He,page:j.page,perPage:j.perPage,refetch:Ie,resource:m,setFilters:_.setFilters,setPage:_.setPage,setPerPage:_.setPerPage,setSort:_.setSort,showFilter:_.showFilter,source:h,total:de,hasNextPage:te?te.hasNextPage:de!=null?j.page*j.perPage<de:void 0,hasPreviousPage:te?te.hasPreviousPage:j.page>1,isFromReference:!0}},"useReferenceArrayInputController"),si=[],ii=o(function(e,t){var n=ri([],e,!0),r=e.map(function(s){return s.id});return t.forEach(function(s){r.includes(s.id)||(r.push(s.id),n.push(s))}),n},"mergeReferences");/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],li=ur("archive-restore",ai);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],di=ur("archive",ci),jr=o(e=>{const{filterToQuery:t=ui,inputText:n}=e,{allChoices:r=[],source:s,resource:i,isFromReference:a,setFilters:l}=rs(e),{id:c,field:d,isRequired:p}=fr({...e,source:s}),f=os(),{placeholder:u=f("ra.action.search",{_:"Search..."})}=e,m=ss(i),{getChoiceText:h,getChoiceValue:x}=is({optionText:e.optionText??(a?m:"name"),optionValue:e.optionValue??"id",disableValue:e.disableValue,translateChoice:e.translateChoice??!a}),b=v.useRef(null),[D,C]=v.useState(!1),E=yn(N=>{d.onChange(d.value.filter(A=>A!==x(N)))}),S=yn(N=>{const A=b.current;A&&((N.key==="Delete"||N.key==="Backspace")&&A.value===""&&d.onChange(d.value.slice(0,-1)),N.key==="Escape"&&A.blur())}),I=r.filter(N=>!d.value.includes(x(N))),P=r.filter(N=>d.value.includes(x(N))),[O,T]=v.useState(""),k=v.useCallback(N=>typeof n=="function"?n(N):n!==void 0?n:h(N),[n,h]);return g.jsxs(pr,{className:e.className,id:c,name:d.name,children:[e.label!==!1&&g.jsx(gr,{children:g.jsx(mr,{label:e.label,source:e.source??s,resource:i,isRequired:p})}),g.jsx(hr,{children:g.jsxs(as,{onKeyDown:S,shouldFilter:!a,className:"overflow-visible bg-transparent",children:[g.jsx("div",{className:"group rounded-md bg-transparent dark:bg-input/30 border border-input px-3 py-1.75 text-sm transition-all ring-offset-background focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]",children:g.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.map(N=>g.jsxs(br,{variant:"outline",children:[k(N),g.jsxs("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:o(A=>{A.key==="Enter"&&E(N)},"onKeyDown"),onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onClick:o(A=>{A.preventDefault(),E(N)},"onClick"),children:[g.jsx("span",{className:"sr-only",children:f("ra.action.remove",{_:"Remove"})}),g.jsx(ls,{className:"h-3 w-3"})]})]},x(N))),g.jsx(cs.Input,{ref:b,value:O,onValueChange:o(N=>{T(N),a&&l(t(N),void 0,!0)},"onValueChange"),onBlur:o(()=>C(!1),"onBlur"),onFocus:o(()=>C(!0),"onFocus"),placeholder:u,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),g.jsx("div",{className:"relative",children:g.jsx(ds,{children:D&&I.length>0?g.jsx("div",{className:"absolute top-2 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:g.jsx(us,{className:"h-full overflow-auto",children:I.map(N=>g.jsx(fs,{onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onSelect:o(()=>{T(""),a&&l(t("")),d.onChange([...d.value,x(N)])},"onSelect"),className:"cursor-pointer",children:h(N)},x(N)))})}):null})})]})}),g.jsx(xr,{helperText:e.helperText}),g.jsx(vr,{})]})},"AutocompleteArrayInput"),ui=o(e=>({q:e}),"DefaultFilterToQuery"),fi=o(({title:e,children:t,actions:n,className:r,...s})=>g.jsx(ps,{...s,children:g.jsx(pi,{title:e,actions:n,className:r,children:t})}),"Create"),pi=o(({actions:e,title:t,children:n,className:r})=>{const s=ei(),i=yr();if(!i)throw new Error("The CreateView component must be used within a ResourceContextProvider");const l=gs()(i,2),d=ms()({resource:i,type:"list"}),p=hs();return g.jsxs(g.Fragment,{children:[g.jsxs(bs,{children:[p&&g.jsx(Dn,{children:g.jsx(Be,{to:"/",children:g.jsx(Cn,{i18nKey:"ra.page.dashboard",children:"Home"})})}),g.jsx(Dn,{children:g.jsx(Be,{to:d,children:l})}),g.jsx(xs,{children:g.jsx(Cn,{i18nKey:"ra.action.create",children:"Create"})})]}),g.jsxs("div",{className:vs("flex justify-between items-start flex-wrap gap-2 my-2",r),children:[g.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t!==void 0?t:s.defaultTitle}),e]}),g.jsx("div",{className:"my-2",children:n})]})},"CreateView"),gi=o(e=>{const{children:t=mi,reference:n,sort:r,filter:s=hi}=e;if(v.Children.count(t)!==1)throw new Error("<ReferenceArrayInput> only accepts a single child (like <AutocompleteArrayInput>)");const i=oi({...e,sort:r,filter:s});return g.jsx(ys,{value:n,children:g.jsx(Ds,{value:i,children:t})})},"ReferenceArrayInput"),mi=g.jsx(jr,{}),hi={},bi=o(e=>{const{label:t,source:n,className:r,resource:s,validate:i,format:a,parse:l=xi,onFocus:c,...d}=e,p=yr({resource:s}),{id:f,field:u,isRequired:m}=fr(e),h=o(S=>{const I=S.target.value,P=l(I);b(I),u.onChange(P??0)},"handleChange"),[x,b]=v.useState(u.value?.toString()??""),D=v.useRef(!1),C=o(S=>{c?.(S),D.current=!0},"handleFocus"),E=o(S=>{u.onBlur?.(S),D.current=!1,b(u.value?.toString()??"")},"handleBlur");return v.useEffect(()=>{D.current||b(u.value?.toString()??"")},[u.value]),g.jsxs(pr,{id:f,className:r,name:u.name,children:[t!==!1&&g.jsx(gr,{children:g.jsx(mr,{label:t,source:n,resource:p,isRequired:m})}),g.jsx(hr,{children:g.jsx(Cs,{...d,...u,type:"number",value:x,onChange:h,onFocus:C,onBlur:E})}),g.jsx(xr,{helperText:e.helperText}),g.jsx(vr,{})]})},"NumberInput"),xi=o(e=>{if(e==null||e==="")return null;const t=parseFloat(e);return isNaN(t)?0:t},"convertStringToNumber");function U(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}o(U,"formatProdErrorMessage");var vi=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sn=vi,In=o(()=>Math.random().toString(36).substring(7).split("").join("."),"randomString"),yi={INIT:`@@redux/INIT${In()}`,REPLACE:`@@redux/REPLACE${In()}`},wn=yi;function Di(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}o(Di,"isPlainObject");function Lr(e,t,n){if(typeof e!="function")throw new Error(U(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(U(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(U(1));return n(Lr)(e,t)}let r=e,s=t,i=new Map,a=i,l=0,c=!1;function d(){a===i&&(a=new Map,i.forEach((b,D)=>{a.set(D,b)}))}o(d,"ensureCanMutateNextListeners");function p(){if(c)throw new Error(U(3));return s}o(p,"getState");function f(b){if(typeof b!="function")throw new Error(U(4));if(c)throw new Error(U(5));let D=!0;d();const C=l++;return a.set(C,b),o(function(){if(D){if(c)throw new Error(U(6));D=!1,d(),a.delete(C),i=null}},"unsubscribe")}o(f,"subscribe");function u(b){if(!Di(b))throw new Error(U(7));if(typeof b.type>"u")throw new Error(U(8));if(typeof b.type!="string")throw new Error(U(17));if(c)throw new Error(U(9));try{c=!0,s=r(s,b)}finally{c=!1}return(i=a).forEach(C=>{C()}),b}o(u,"dispatch");function m(b){if(typeof b!="function")throw new Error(U(10));r=b,u({type:wn.REPLACE})}o(m,"replaceReducer");function h(){const b=f;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(U(11));function C(){const S=D;S.next&&S.next(p())}return o(C,"observeState"),C(),{unsubscribe:b(C)}},[Sn](){return this}}}return o(h,"observable"),u({type:wn.INIT}),{dispatch:u,subscribe:f,getState:p,replaceReducer:m,[Sn]:h}}o(Lr,"createStore$1");function En(e,t){return function(...n){return t(e.apply(this,n))}}o(En,"bindActionCreator");function Pn(e,t){if(typeof e=="function")return En(e,t);if(typeof e!="object"||e===null)throw new Error(U(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=En(s,t))}return n}o(Pn,"bindActionCreators$1");function Mr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}o(Mr,"compose");function Ci(...e){return t=>(n,r)=>{const s=t(n,r);let i=o(()=>{throw new Error(U(15))},"dispatch");const a={getState:s.getState,dispatch:o((c,...d)=>i(c,...d),"dispatch")},l=e.map(c=>c(a));return i=Mr(...l)(s.dispatch),{...s,dispatch:i}}}o(Ci,"applyMiddleware");var xt={exports:{}},vt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn;function Si(){if(Nn)return vt;Nn=1;var e=Ss();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}o(t,"is");var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return vt.useSyncExternalStoreWithSelector=function(c,d,p,f,u){var m=s(null);if(m.current===null){var h={hasValue:!1,value:null};m.current=h}else h=m.current;m=a(function(){function b(I){if(!D){if(D=!0,C=I,I=f(I),u!==void 0&&h.hasValue){var P=h.value;if(u(P,I))return E=P}return E=I}if(P=E,n(C,I))return P;var O=f(I);return u!==void 0&&u(P,O)?(C=I,P):(C=I,E=O)}o(b,"memoizedSelector");var D=!1,C,E,S=p===void 0?null:p;return[function(){return b(d())},S===null?void 0:function(){return b(S())}]},[d,p,f,u]);var x=r(c,m[0],m[1]);return i(function(){h.hasValue=!0,h.value=x},[x]),l(x),x},vt}o(Si,"requireUseSyncExternalStoreWithSelector_production");var An;function Ii(){return An||(An=1,xt.exports=Si()),xt.exports}o(Ii,"requireWithSelector");Ii();var wi=v.version.startsWith("19"),Ei=Symbol.for(wi?"react.transitional.element":"react.element"),Pi=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Ai=Symbol.for("react.strict_mode"),Ri=Symbol.for("react.profiler"),Oi=Symbol.for("react.consumer"),Ti=Symbol.for("react.context"),Fr=Symbol.for("react.forward_ref"),Bi=Symbol.for("react.suspense"),ji=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Mi=Fr,Fi=zt;function _i(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Ei:switch(e=e.type,e){case Ni:case Ri:case Ai:case Bi:case ji:return e;default:switch(e=e&&e.$$typeof,e){case Ti:case Fr:case Li:case zt:return e;case Oi:return e;default:return t}}case Pi:return t}}}o(_i,"typeOf");function Gi(e){return _i(e)===zt}o(Gi,"isMemo");function ki(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,d,p,f,u;function m(C,E){return c=C,d=E,p=e(c,d),f=t(r,d),u=n(p,f,d),l=!0,u}o(m,"handleFirstCall");function h(){return p=e(c,d),t.dependsOnOwnProps&&(f=t(r,d)),u=n(p,f,d),u}o(h,"handleNewPropsAndNewState");function x(){return e.dependsOnOwnProps&&(p=e(c,d)),t.dependsOnOwnProps&&(f=t(r,d)),u=n(p,f,d),u}o(x,"handleNewProps");function b(){const C=e(c,d),E=!a(C,p);return p=C,E&&(u=n(p,f,d)),u}o(b,"handleNewState");function D(C,E){const S=!i(E,d),I=!s(C,c,E,d);return c=C,d=E,S&&I?h():S?x():I?b():u}return o(D,"handleSubsequentCalls"),o(function(E,S){return l?D(E,S):m(E,S)},"pureFinalPropsSelector")}o(ki,"pureFinalPropsSelectorFactory");function $i(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),a=n(e,s),l=r(e,s);return ki(i,a,l,e,s)}o($i,"finalPropsSelectorFactory");function Wi(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}o(Wi,"bindActionCreators");function Tt(e){return o(function(n){const r=e(n);function s(){return r}return o(s,"constantSelector"),s.dependsOnOwnProps=!1,s},"initConstantSelector")}o(Tt,"wrapMapToPropsConstant");function Rn(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}o(Rn,"getDependsOnOwnProps");function _r(e,t){return o(function(r,{displayName:s}){const i=o(function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)},"mapToPropsProxy");return i.dependsOnOwnProps=!0,i.mapToProps=o(function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Rn(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Rn(d),d=i(l,c)),d},"detectFactoryAndVerify"),i},"initProxySelector")}o(_r,"wrapMapToPropsFunc");function Yt(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}o(Yt,"createInvalidArgFactory");function Vi(e){return e&&typeof e=="object"?Tt(t=>Wi(e,t)):e?typeof e=="function"?_r(e):Yt(e,"mapDispatchToProps"):Tt(t=>({dispatch:t}))}o(Vi,"mapDispatchToPropsFactory");function Ui(e){return e?typeof e=="function"?_r(e):Yt(e,"mapStateToProps"):Tt(()=>({}))}o(Ui,"mapStateToPropsFactory");function Hi(e,t,n){return{...n,...e,...t}}o(Hi,"defaultMergeProps");function qi(e){return o(function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return o(function(c,d,p){const f=e(c,d,p);return i?s(f,a)||(a=f):(i=!0,a=f),a},"mergePropsProxy")},"initMergePropsProxy")}o(qi,"wrapMergePropsFunc");function zi(e){return e?typeof e=="function"?qi(e):Yt(e,"mergeProps"):()=>Hi}o(zi,"mergePropsFactory");function Yi(e){e()}o(Yi,"defaultNoopBatch");function Ki(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Yi(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,o(function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)},"unsubscribe")}}}o(Ki,"createListenerCollection");var On={notify(){},get:o(()=>[],"get")};function Gr(e,t){let n,r=On,s=0,i=!1;function a(x){p();const b=r.subscribe(x);let D=!1;return()=>{D||(D=!0,b(),f())}}o(a,"addNestedSub");function l(){r.notify()}o(l,"notifyNestedSubs");function c(){h.onStateChange&&h.onStateChange()}o(c,"handleChangeWrapper");function d(){return i}o(d,"isSubscribed");function p(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=Ki())}o(p,"trySubscribe");function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=On)}o(f,"tryUnsubscribe");function u(){i||(i=!0,p())}o(u,"trySubscribeSelf");function m(){i&&(i=!1,f())}o(m,"tryUnsubscribeSelf");const h={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:u,tryUnsubscribe:m,getListeners:o(()=>r,"getListeners")};return h}o(Gr,"createSubscription");var Ji=o(()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u","canUseDOM"),Xi=Ji(),Qi=o(()=>typeof navigator<"u"&&navigator.product==="ReactNative","isRunningInReactNative"),Zi=Qi(),ea=o(()=>Xi||Zi?v.useLayoutEffect:v.useEffect,"getUseIsomorphicLayoutEffect"),Qe=ea();function Tn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}o(Tn,"is");function yt(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Tn(e[n[s]],t[n[s]]))return!1;return!0}o(yt,"shallowEqual");var ta={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},na={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ra={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oa={[Mi]:ra,[Fi]:kr};function Bn(e){return Gi(e)?kr:oa[e.$$typeof]||ta}o(Bn,"getStatics");var sa=Object.defineProperty,ia=Object.getOwnPropertyNames,jn=Object.getOwnPropertySymbols,aa=Object.getOwnPropertyDescriptor,la=Object.getPrototypeOf,Ln=Object.prototype;function Bt(e,t){if(typeof t!="string"){if(Ln){const i=la(t);i&&i!==Ln&&Bt(e,i)}let n=ia(t);jn&&(n=n.concat(jn(t)));const r=Bn(e),s=Bn(t);for(let i=0;i<n.length;++i){const a=n[i];if(!na[a]&&!(s&&s[a])&&!(r&&r[a])){const l=aa(t,a);try{sa(e,a,l)}catch{}}}}return e}o(Bt,"hoistNonReactStatics");var ca=Symbol.for("react-redux-context"),da=typeof globalThis<"u"?globalThis:{};function ua(){if(!v.createContext)return{};const e=da[ca]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}o(ua,"getContext");var $r=ua(),fa=[null,null];function pa(e,t,n){Qe(()=>e(...t),n)}o(pa,"useIsomorphicLayoutEffectWithArgs");function ga(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}o(ga,"captureWrapperProps");function ma(e,t,n,r,s,i,a,l,c,d,p){if(!e)return()=>{};let f=!1,u=null;const m=o(()=>{if(f||!l.current)return;const x=t.getState();let b,D;try{b=r(x,s.current)}catch(C){D=C,u=C}D||(u=null),b===i.current?a.current||d():(i.current=b,c.current=b,a.current=!0,p())},"checkForUpdates");return n.onStateChange=m,n.trySubscribe(),m(),o(()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u},"unsubscribeWrapper")}o(ma,"subscribeUpdates");function ha(e,t){return e===t}o(ha,"strictEqual");function ba(e,t,n,{pure:r,areStatesEqual:s=ha,areOwnPropsEqual:i=yt,areStatePropsEqual:a=yt,areMergedPropsEqual:l=yt,forwardRef:c=!1,context:d=$r}={}){const p=d,f=Ui(e),u=Vi(t),m=zi(n),h=!!e;return o(b=>{const D=b.displayName||b.name||"Component",C=`Connect(${D})`,E={shouldHandleStateChanges:h,displayName:C,wrappedComponentName:D,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:u,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function S(O){const[T,k,N]=v.useMemo(()=>{const{reactReduxForwardedRef:H,...we}=O;return[O.context,H,we]},[O]),A=v.useMemo(()=>{let H=p;return T?.Consumer,H},[T,p]),$=v.useContext(A),K=!!O.store&&!!O.store.getState&&!!O.store.dispatch,j=!!$&&!!$.store,_=K?O.store:$.store,se=j?$.getServerState:_.getState,ye=v.useMemo(()=>$i(_.dispatch,E),[_]),[W,ee]=v.useMemo(()=>{if(!h)return fa;const H=Gr(_,K?void 0:$.subscription),we=H.notifyNestedSubs.bind(H);return[H,we]},[_,K,$]),de=v.useMemo(()=>K?$:{...$,subscription:W},[K,$,W]),te=v.useRef(void 0),De=v.useRef(N),ie=v.useRef(void 0),Ue=v.useRef(!1),Ce=v.useRef(!1),Se=v.useRef(void 0);Qe(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]);const He=v.useMemo(()=>o(()=>ie.current&&N===De.current?ie.current:ye(_.getState(),N),"selector"),[_,N]),qe=v.useMemo(()=>o(we=>W?ma(h,_,W,ye,De,te,Ue,Ce,ie,ee,we):()=>{},"subscribe"),[W]);pa(ga,[De,te,Ue,N,ie,ee]);let ue;try{ue=v.useSyncExternalStore(qe,He,se?()=>ye(se(),N):He)}catch(H){throw Se.current&&(H.message+=`
The error may be correlated with this previous error:
${Se.current.stack}

`),H}Qe(()=>{Se.current=void 0,ie.current=void 0,te.current=ue});const Ie=v.useMemo(()=>v.createElement(b,{...ue,ref:k}),[k,b,ue]);return v.useMemo(()=>h?v.createElement(A.Provider,{value:de},Ie):Ie,[A,Ie,de])}o(S,"ConnectFunction");const P=v.memo(S);if(P.WrappedComponent=b,P.displayName=S.displayName=C,c){const T=v.forwardRef(o(function(N,A){return v.createElement(P,{...N,reactReduxForwardedRef:A})},"forwardConnectRef"));return T.displayName=C,T.WrappedComponent=b,Bt(T,b)}return Bt(P,b)},"wrapWithConnect")}o(ba,"connect");var Wr=ba;function xa(e){const{children:t,context:n,serverState:r,store:s}=e,i=v.useMemo(()=>{const c=Gr(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=v.useMemo(()=>s.getState(),[s]);Qe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||$r;return v.createElement(l.Provider,{value:i},t)}o(xa,"Provider");var va=xa,ya="Invariant failed";function Da(e,t){throw new Error(ya)}o(Da,"invariant$1");var Z=o(function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},"getRect2"),Kt=o(function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},"expand2"),Mn=o(function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},"shrink2"),Ca=o(function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},"shift2"),Dt={top:0,right:0,bottom:0,left:0},Jt=o(function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Dt:r,i=t.border,a=i===void 0?Dt:i,l=t.padding,c=l===void 0?Dt:l,d=Z(Kt(n,s)),p=Z(Mn(n,a)),f=Z(Mn(p,c));return{marginBox:d,borderBox:Z(n),paddingBox:p,contentBox:f,margin:s,border:a,padding:c}},"createBox2"),J=o(function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Da(),s},"parse2"),Sa=o(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll2"),Ze=o(function(t,n){var r=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Ca(r,n);return Jt({borderBox:l,border:s,margin:i,padding:a})},"offset2"),et=o(function(t,n){return n===void 0&&(n=Sa()),Ze(t,n)},"withScroll2"),Vr=o(function(t,n){var r={top:J(n.marginTop),right:J(n.marginRight),bottom:J(n.marginBottom),left:J(n.marginLeft)},s={top:J(n.paddingTop),right:J(n.paddingRight),bottom:J(n.paddingBottom),left:J(n.paddingLeft)},i={top:J(n.borderTopWidth),right:J(n.borderRightWidth),bottom:J(n.borderBottomWidth),left:J(n.borderLeftWidth)};return Jt({borderBox:t,margin:r,padding:s,border:i})},"calculateBox2"),Ur=o(function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Vr(n,r)},"getBox2"),je=o(function(t){var n=[],r=null,s=o(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))},"wrapperFn");return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s},"rafSchd");function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(null,arguments)}o(tt,"_extends");function Hr(e,t){}o(Hr,"log");Hr.bind(null,"warn");Hr.bind(null,"error");function ne(){}o(ne,"noop$2");function Ia(e,t){return{...e,...t}}o(Ia,"getOptions");function X(e,t,n){const r=t.map(s=>{const i=Ia(n,s.options);return e.addEventListener(s.eventName,s.fn,i),o(function(){e.removeEventListener(s.eventName,s.fn,i)},"unbind")});return o(function(){r.forEach(i=>{i()})},"unbindAll")}o(X,"bindEvents");const wa="Invariant failed",hn=class hn extends Error{};o(hn,"RbdInvariant");let fe=hn;fe.prototype.toString=o(function(){return this.message},"toString");function y(e,t){throw new fe(wa)}o(y,"invariant");const bn=class bn extends L.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ne,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof fe&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=X(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof fe){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};o(bn,"ErrorBoundary");let jt=bn;const Ea=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,nt=o(e=>e+1,"position"),Pa=o(e=>`
  You have lifted an item in position ${nt(e.source.index)}
`,"onDragStart"),qr=o((e,t)=>{const n=e.droppableId===t.droppableId,r=nt(e.index),s=nt(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},"withLocation"),zr=o((e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,"withCombine"),Na=o(e=>{const t=e.destination;if(t)return qr(e.source,t);const n=e.combine;return n?zr(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},"onDragUpdate"),Fn=o(e=>`
  The item has returned to its starting position
  of ${nt(e.index)}
`,"returnedToStart"),Aa=o(e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Fn(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${qr(e.source,t)}
    `:n?`
      You have dropped the item.
      ${zr(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Fn(e.source)}
  `},"onDragEnd"),Xe={dragHandleUsageInstructions:Ea,onDragStart:Pa,onDragUpdate:Na,onDragEnd:Aa};function Ra(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}o(Ra,"isEqual$2");function Yr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ra(e[n],t[n]))return!1;return!0}o(Yr,"areInputsEqual");function R(e,t){const n=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&Yr(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}o(R,"useMemo");function w(e,t){return R(()=>e,t)}o(w,"useCallback");const F={x:0,y:0},G=o((e,t)=>({x:e.x+t.x,y:e.y+t.y}),"add"),q=o((e,t)=>({x:e.x-t.x,y:e.y-t.y}),"subtract"),re=o((e,t)=>e.x===t.x&&e.y===t.y,"isEqual$1"),be=o(e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),"negate"),ce=o((e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},"patch"),Le=o((e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),"distance"),_n=o((e,t)=>Math.min(...t.map(n=>Le(e,n))),"closest$1"),Kr=o(e=>t=>({x:e(t.x),y:e(t.y)}),"apply");var Oa=o((e,t)=>{const n=Z({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},"executeClip");const We=o((e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),"offsetByPosition"),Gn=o(e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],"getCorners"),Ta={top:0,right:0,bottom:0,left:0},Ba=o((e,t)=>t?We(e,t.scroll.diff.displacement):e,"scroll$1"),ja=o((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,"increase"),La=o((e,t)=>t&&t.shouldClipSubject?Oa(t.pageMarginBox,e):Z(e),"clip");var pe=o(({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=Ba(e.marginBox,r),i=ja(s,n,t),a=La(i,r);return{page:e,withPlaceholder:t,active:a}},"getSubject"),Xt=o((e,t)=>{e.frame||y();const n=e.frame,r=q(t,n.scroll.initial),s=be(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},a=pe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}},"scrollDroppable");function M(e,t=Yr){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return o(r,"memoized"),r.clear=o(function(){n=null},"clear"),r}o(M,"memoizeOne");const Jr=M(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Xr=M(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ut=M(e=>Object.values(e)),Ma=M(e=>Object.values(e));var xe=M((e,t)=>Ma(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Qt(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}o(Qt,"tryGetDestination");function ft(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}o(ft,"tryGetCombine");var pt=M((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Fa=o(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Qt(s))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}o(a,"getImpact");const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const d=pt(t,r);if(!c){if(!d.length)return null;const m=d[d.length-1];return a(m.descriptor.id)}const p=d.findIndex(m=>m.descriptor.id===c);p===-1&&y();const f=p-1;if(f<0)return null;const u=d[f];return a(u.descriptor.id)},"moveToNextCombine"),ve=o((e,t)=>e.descriptor.droppableId===t.descriptor.id,"isHomeOf");const Qr={point:F,value:0},Me={invisible:{},visible:{},all:[]},_a={displaced:Me,displacedBy:Qr,at:null};var Q=o((e,t)=>n=>e<=n&&n<=t,"isWithin"),Zr=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&a||d&&i}},"isPartiallyVisibleThroughFrame"),Ga=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)},"isTotallyVisibleThroughFrame");const Zt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},eo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ka=o(e=>t=>{const n=Q(t.top,t.bottom),r=Q(t.left,t.right);return s=>e===Zt?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)},"isTotallyVisibleThroughFrameOnAxis");const $a=o((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:F;return We(e,n)},"getDroppableDisplaced"),Wa=o((e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,"isVisibleInDroppable"),Va=o((e,t,n)=>n(t)(e),"isVisibleInViewport"),en=o(({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?$a(e,t):e;return Wa(i,t,s)&&Va(i,n,s)},"isVisible$1"),Ua=o(e=>en({...e,isVisibleThroughFrameFn:Zr}),"isPartiallyVisible"),to=o(e=>en({...e,isVisibleThroughFrameFn:Ga}),"isTotallyVisible"),Ha=o(e=>en({...e,isVisibleThroughFrameFn:ka(e.destination.axis)}),"isTotallyVisibleOnAxis"),qa=o((e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0},"getShouldAnimate");function za(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Z(Kt(n,r))}o(za,"getTarget");function Fe({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(o(function(l,c){const d=za(c,n),p=c.descriptor.id;if(l.all.push(p),!Ua({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const u=qa(p,i,s),m={draggableId:p,shouldAnimate:u};return l.visible[p]=m,l},"process2"),{all:[],visible:{},invisible:{}})}o(Fe,"getDisplacementGroups");function Ya(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}o(Ya,"getIndexOfLastItem");function kn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=Ya(e,{inHomeList:t});return{displaced:Me,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}o(kn,"goAtEnd");function rt({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=ve(e,n);if(a==null)return kn({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=t.find(h=>h.descriptor.index===a);if(!d)return kn({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const p=pt(e,t),f=t.indexOf(d),u=p.slice(f);return{displaced:Fe({afterDragging:u,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}o(rt,"calculateReorderImpact");function oe(e,t){return!!t.effected[e]}o(oe,"didStartAfterCritical");var Ka=o(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return oe(i,s)?e?l:l-1:e?l+1:l},"fromCombine"),Ja=o(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return i<a||i>c?null:i},"fromReorder"),Xa=o(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const d=a.at;if(d||y(),d.type==="REORDER"){const f=Ja({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:rt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const p=Ka({isMovingForward:e,destination:s,displaced:a.displaced,draggables:r,combine:d.combine,afterCritical:c});return p==null?null:rt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:p})},"moveToNextIndex"),Qa=o(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return oe(n,t)?s?F:be(r.point):s?r.point:F},"getCombinedItemDisplacement"),Za=o(({afterCritical:e,impact:t,draggables:n})=>{const r=ft(t);r||y();const s=r.draggableId,i=n[s].page.borderBox.center,a=Qa({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return G(i,a)},"whenCombining");const no=o((e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,"distanceFromStartToBorderBoxCenter"),el=o((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,"distanceFromEndToBorderBoxCenter"),tn=o((e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,"getCrossAxisBorderBoxCenter"),$n=o(({axis:e,moveRelativeTo:t,isMoving:n})=>ce(e.line,t.marginBox[e.end]+no(e,n),tn(e,t.marginBox,n)),"goAfter"),Wn=o(({axis:e,moveRelativeTo:t,isMoving:n})=>ce(e.line,t.marginBox[e.start]-el(e,n),tn(e,t.marginBox,n)),"goBefore"),tl=o(({axis:e,moveInto:t,isMoving:n})=>ce(e.line,t.contentBox[e.start]+no(e,n),tn(e,t.contentBox,n)),"goIntoStart");var nl=o(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=xe(r.descriptor.id,n),a=t.page,l=r.axis;if(!i.length)return tl({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:d}=e,p=c.all[0];if(p){const u=n[p];if(oe(p,s))return Wn({axis:l,moveRelativeTo:u.page,isMoving:a});const m=Ze(u.page,d.point);return Wn({axis:l,moveRelativeTo:m,isMoving:a})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return a.borderBox.center;if(oe(f.descriptor.id,s)){const u=Ze(f.page,be(s.displacedBy.point));return $n({axis:l,moveRelativeTo:u,isMoving:a})}return $n({axis:l,moveRelativeTo:f.page,isMoving:a})},"whenReordering"),Lt=o((e,t)=>{const n=e.frame;return n?G(t,n.scroll.diff.displacement):t},"withDroppableDisplacement");const rl=o(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,a=e.at;return!n||!a?i:a.type==="REORDER"?nl({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):Za({impact:e,draggables:r,afterCritical:s})},"getResultWithoutDroppableDisplacement");var gt=o(e=>{const t=rl(e),n=e.droppable;return n?Lt(n,t):t},"getPageBorderBoxCenterFromImpact"),ro=o((e,t)=>{const n=q(t,e.scroll.initial),r=be(n);return{frame:Z({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}},"scrollViewport");function Vn(e,t){return e.map(n=>t[n])}o(Vn,"getDraggables$1");function ol(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}o(ol,"tryGetVisible");var sl=o(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=ro(t,G(t.scroll.current,s)),a=n.frame?Xt(n,G(n.frame.scroll.current,s)):n,l=e.displaced,c=Fe({afterDragging:Vn(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Fe({afterDragging:Vn(l.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),p={},f={},u=[l,c,d];return l.all.forEach(h=>{const x=ol(h,u);if(x){f[h]=x;return}p[h]=!0}),{...e,displaced:{all:l.all,invisible:p,visible:f}}},"speculativelyIncrease"),il=o((e,t)=>G(e.scroll.diff.displacement,t),"withViewportDisplacement"),nn=o(({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=il(n,e),s=q(r,t.page.borderBox.center);return G(t.client.borderBox.center,s)},"getClientFromPageBorderBoxCenter"),oo=o(({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=q(n,e.page.borderBox.center),c={target:We(e.page.borderBox,a),destination:t,withDroppableDisplacement:s,viewport:r};return i?Ha(c):to(c)},"isTotallyVisibleInNewLocation"),al=o(({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const d=xe(n.descriptor.id,r),p=ve(t,n),f=Fa({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:s})||Xa({isMovingForward:e,isInHomeList:p,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const u=gt({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(oo({draggable:t,destination:n,newPageBorderBoxCenter:u,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:nn({pageBorderBoxCenter:u,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const h=q(u,a),x=sl({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:l,impact:x,scrollJumpRequest:h}},"moveToNextPlace");const V=o(e=>{const t=e.subject.active;return t||y(),t},"getKnownActive");var ll=o(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Q(i[a.start],i[a.end]),c=ut(r).filter(p=>p!==n).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>Zr(s.frame)(V(p))).filter(p=>{const f=V(p);return e?i[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<i[a.crossAxisStart]}).filter(p=>{const f=V(p),u=Q(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||u(i[a.start])||u(i[a.end])}).sort((p,f)=>{const u=V(p)[a.crossAxisStart],m=V(f)[a.crossAxisStart];return e?u-m:m-u}).filter((p,f,u)=>V(p)[a.crossAxisStart]===V(u[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(p=>Q(V(p)[a.start],V(p)[a.end])(t[a.line]));return d.length===1?d[0]:d.length>1?d.sort((p,f)=>V(p)[a.start]-V(f)[a.start])[0]:c.sort((p,f)=>{const u=_n(t,Gn(V(p))),m=_n(t,Gn(V(f)));return u!==m?u-m:V(p)[a.start]-V(f)[a.start]})[0]},"getBestCrossAxisDroppable");const Un=o((e,t)=>{const n=e.page.borderBox.center;return oe(e.descriptor.id,t)?q(n,t.displacedBy.point):n},"getCurrentPageBorderBoxCenter"),cl=o((e,t)=>{const n=e.page.borderBox;return oe(e.descriptor.id,t)?We(n,be(t.displacedBy.point)):n},"getCurrentPageBorderBox");var dl=o(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>to({target:cl(a,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Le(e,Lt(n,Un(a,s))),d=Le(e,Lt(n,Un(l,s)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index})[0]||null,"getClosestDraggable"),Ve=M(o(function(t,n){const r=n[t.line];return{value:r,point:ce(t.line,r)}},"getDisplacedBy2"));const ul=o((e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return ce(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=xe(e.descriptor.id,n).reduce((d,p)=>d+p.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:ce(r.line,c)},"getRequiredGrowthForPlaceholder"),so=o((e,t)=>({...e,scroll:{...e.scroll,max:t}}),"withMaxScroll"),io=o((e,t,n)=>{const r=e.frame;ve(t,e)&&y(),e.subject.withPlaceholder&&y();const s=Ve(e.axis,t.displaceBy).point,i=ul(e,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const p=pe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:p}}const l=i?G(r.scroll.max,i):r.scroll.max,c=so(r,l),d=pe({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},"addPlaceholder"),fl=o(e=>{const t=e.subject.withPlaceholder;t||y();const n=e.frame;if(!n){const a=pe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||y();const s=so(n,r),i=pe({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}},"removePlaceholder");var pl=o(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:Me,displacedBy:Qr,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=gt({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:l}),m=ve(r,i)?i:io(i,r,s);return oo({draggable:r,destination:m,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),p=Ve(i.axis,r.displaceBy);return rt({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:p,last:Me,index:d})},"moveToNewDroppable"),gl=o(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=ll({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!c)return null;const d=xe(c.descriptor.id,s),p=dl({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:d,afterCritical:l}),f=pl({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:p,insideDestination:d,viewport:a,afterCritical:l});if(!f)return null;const u=gt({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:nn({pageBorderBoxCenter:u,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},"moveCrossAxis"),z=o(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},"whatIsDraggedOver");const ml=o((e,t)=>{const n=z(e);return n?t[n]:null},"getDroppableOver$1");var hl=o(({state:e,type:t})=>{const n=ml(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:f,droppables:u}=e.dimensions;return l?al({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gl({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,isOver:i,draggables:f,droppables:u,viewport:e.viewport,afterCritical:e.afterCritical})},"moveInDirection");function le(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}o(le,"isMovementAllowed");function ao(e){const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return o(function(s){return t(s.y)&&n(s.x)},"run")}o(ao,"isPositionInFrame");function bl(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}o(bl,"getHasOverlap");function xl({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=ce(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Le(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}o(xl,"getFurthestAway");function vl({pageBorderBox:e,draggable:t,droppables:n}){const r=ut(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!bl(e,i))return!1;if(ao(i)(e.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=e[a.crossAxisStart],d=e[a.crossAxisEnd],p=Q(i[a.crossAxisStart],i[a.crossAxisEnd]),f=p(c),u=p(d);return!f&&!u?!0:f?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:xl({pageBorderBox:e,draggable:t,candidates:r}):null}o(vl,"getDroppableOver");const lo=o((e,t)=>Z(We(e,t)),"offsetRectByPosition");var yl=o((e,t)=>{const n=e.frame;return n?lo(t,n.scroll.diff.value):t},"withDroppableScroll");function co({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}o(co,"getIsDisplaced");function Dl({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}o(Dl,"atIndex");var Cl=o(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=Ve(n.axis,t.displaceBy),d=c.value,p=e[l.start],f=e[l.end],m=pt(t,r).find(x=>{const b=x.descriptor.id,D=x.page.borderBox.center[l.line],C=oe(b,a),E=co({displaced:s,id:b});return C?E?f<=D:p<D-d:E?f<=D+d:p<D})||null,h=Dl({draggable:t,closest:m,inHomeList:ve(t,n)});return rt({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:h})},"getReorderImpact");const Sl=4;var Il=o(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=Ve(r.axis,e.displaceBy),c=l.value,d=t[a.start],p=t[a.end],u=pt(e,s).find(h=>{const x=h.descriptor.id,b=h.page.borderBox,C=b[a.size]/Sl,E=oe(x,i),S=co({displaced:n.displaced,id:x});return E?S?p>b[a.start]+C&&p<b[a.end]-C:d>b[a.start]-c+C&&d<b[a.end]-c-C:S?p>b[a.start]+c+C&&p<b[a.end]+c-C:d>b[a.start]+C&&d<b[a.end]-C});return u?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:r.descriptor.id}}}:null},"getCombineImpact"),uo=o(({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=lo(t.page.borderBox,e),c=vl({pageBorderBox:l,draggable:t,droppables:r});if(!c)return _a;const d=r[c],p=xe(d.descriptor.id,n),f=yl(d,l);return Il({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:d,insideDestination:p,afterCritical:a})||Cl({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:p,last:s.displaced,viewport:i,afterCritical:a})},"getDragImpact"),rn=o((e,t)=>({...e,[t.descriptor.id]:t}),"patchDroppableMap");const wl=o(({previousImpact:e,impact:t,droppables:n})=>{const r=z(e),s=z(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=fl(i);return rn(n,a)},"clearUnusedPlaceholder");var El=o(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=wl({previousImpact:r,impact:s,droppables:n}),a=z(s);if(!a)return i;const l=n[a];if(ve(e,l)||l.subject.withPlaceholder)return i;const c=io(l,e,t);return rn(i,c)},"recomputePlaceholders"),Oe=o(({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,d=q(c,e.initial.client.selection),p={offset:d,selection:c,borderBoxCenter:G(e.initial.client.borderBoxCenter,d)},f={selection:G(p.selection,a.scroll.current),borderBoxCenter:G(p.borderBoxCenter,a.scroll.current),offset:G(p.offset,a.scroll.diff.value)},u={client:p,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:u};const m=l.draggables[e.critical.draggable.id],h=s||uo({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),x=El({draggable:m,impact:h,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:u,dimensions:{draggables:l.draggables,droppables:x},impact:h,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}},"update");function Pl(e,t){return e.map(n=>t[n])}o(Pl,"getDraggables");var fo=o(({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,a=Pl(i.all,n),l=Fe({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},"recompute"),po=o(({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=gt({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return nn({pageBorderBoxCenter:a,draggable:t,viewport:s})},"getClientBorderBoxCenter"),go=o(({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&y();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:l}=i,c=a[e.critical.draggable.id],d=z(r);d||y();const p=l[d],f=fo({impact:r,viewport:s,destination:p,draggables:a}),u=po({impact:f,draggable:c,droppable:p,draggables:a,viewport:s,afterCritical:e.afterCritical});return Oe({impact:f,clientSelection:u,state:e,dimensions:i,viewport:s})},"refreshSnap"),Nl=o(e=>({index:e.index,droppableId:e.droppableId}),"getHomeLocation"),mo=o(({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ve(t.axis,e.displaceBy),i=xe(t.descriptor.id,n),a=i.indexOf(e);a===-1&&y();const l=i.slice(a+1),c=l.reduce((u,m)=>(u[m.descriptor.id]=!0,u),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Fe({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Nl(e.descriptor)}},afterCritical:d}},"getLiftEffect"),Al=o((e,t)=>({draggables:e.draggables,droppables:rn(e.droppables,t)}),"patchDimensionMap"),Rl=o(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ze(e.client,t),s=et(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},"offsetDraggable"),Ol=o(e=>{const t=e.frame;return t||y(),t},"getFrame"),Tl=o(({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,a=t[i],c=Ol(a).scroll.diff.value,d=G(r,c);return Rl({draggable:s,offset:d,initialWindowScroll:n.scroll.initial})})},"adjustAdditionsForScrollChanges"),Bl=o(({state:e,published:t})=>{const n=t.modified.map(D=>{const C=e.dimensions.droppables[D.droppableId];return Xt(C,D.scroll)}),r={...e.dimensions.droppables,...Jr(n)},s=Xr(Tl({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(D=>{delete i[D]});const a={droppables:r,draggables:i},l=z(e.impact),c=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],p=a.droppables[e.critical.droppable.id],{impact:f,afterCritical:u}=mo({draggable:d,home:p,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,h=uo({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:u}),x={...e,phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:a,afterCritical:u,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}},"publishWhileDraggingInVirtual");const Mt=o(e=>e.movementMode==="SNAP","isSnapping"),Ct=o((e,t,n)=>{const r=Al(e.dimensions,t);return!Mt(e)||n?Oe({state:e,dimensions:r}):go({state:e,dimensions:r})},"postDroppableChange");function St(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}o(St,"removeScrollJumpRequest");const Hn={phase:"IDLE",completed:null,shouldFlush:!1};var jl=o((e=Hn,t)=>{if(t.type==="FLUSH")return{...Hn,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&y();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=t.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:F},p={client:d,page:{selection:G(d.selection,s.scroll.initial),borderBoxCenter:G(d.selection,s.scroll.initial),offset:G(d.selection,s.scroll.diff.value)}},f=ut(i.droppables).every(x=>!x.isFixedOnPage),{impact:u,afterCritical:m}=mo({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:p,current:p,isWindowScrollAllowed:f,impact:u,afterCritical:m,onLiftImpact:u,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||y(),Bl({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;le(e)||y();const{client:n}=t.payload;return re(n,e.current.client.selection)?e:Oe({state:e,clientSelection:n,impact:Mt(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return St(e);le(e)||y();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=Xt(s,r);return Ct(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;le(e)||y();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isEnabled===r&&y();const i={...s,isEnabled:r};return Ct(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;le(e)||y();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isCombineEnabled===r&&y();const i={...s,isCombineEnabled:r};return Ct(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;le(e)||y(),e.isWindowScrollAllowed||y();const n=t.payload.newScroll;if(re(e.viewport.scroll.current,n))return St(e);const r=ro(e.viewport,n);return Mt(e)?go({state:e,viewport:r}):Oe({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!le(e))return e;const n=t.payload.maxScroll;if(re(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&y();const n=hl({state:e,type:t.type});return n?Oe({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e},"reducer");function B(e,t){return e instanceof Object&&"type"in e&&e.type===t}o(B,"guard");const Ll=o(e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),"beforeInitialCapture"),Ml=o(e=>({type:"LIFT",payload:e}),"lift$1"),Fl=o(e=>({type:"INITIAL_PUBLISH",payload:e}),"initialPublish"),_l=o(e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),"publishWhileDragging"),Gl=o(()=>({type:"COLLECTION_STARTING",payload:null}),"collectionStarting"),kl=o(e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),"updateDroppableScroll"),$l=o(e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),"updateDroppableIsEnabled"),Wl=o(e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),"updateDroppableIsCombineEnabled"),ho=o(e=>({type:"MOVE",payload:e}),"move"),Vl=o(e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),"moveByWindowScroll"),Ul=o(e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),"updateViewportMaxScroll"),Hl=o(()=>({type:"MOVE_UP",payload:null}),"moveUp"),ql=o(()=>({type:"MOVE_DOWN",payload:null}),"moveDown"),zl=o(()=>({type:"MOVE_RIGHT",payload:null}),"moveRight"),Yl=o(()=>({type:"MOVE_LEFT",payload:null}),"moveLeft"),on=o(()=>({type:"FLUSH",payload:null}),"flush"),Kl=o(e=>({type:"DROP_ANIMATE",payload:e}),"animateDrop"),sn=o(e=>({type:"DROP_COMPLETE",payload:e}),"completeDrop"),bo=o(e=>({type:"DROP",payload:e}),"drop"),Jl=o(e=>({type:"DROP_PENDING",payload:e}),"dropPending"),xo=o(()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),"dropAnimationFinished");var Xl=o(e=>({getState:t,dispatch:n})=>r=>s=>{if(!B(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(sn({completed:c.completed})),t().phase!=="IDLE"&&y(),n(on()),n(Ll({draggableId:i,movementMode:l}));const p={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:u,viewport:m}=e.startPublishing(p);n(Fl({critical:f,dimensions:u,clientSelection:a,movementMode:l,viewport:m}))},"lift"),Ql=o(e=>()=>t=>n=>{B(n,"INITIAL_PUBLISH")&&e.dragging(),B(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(B(n,"FLUSH")||B(n,"DROP_COMPLETE"))&&e.resting(),t(n)},"style");const an={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},_e={opacity:{drop:0,combining:.7},scale:{drop:.75}},vo={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ae=`${vo.outOfTheWay}s ${an.outOfTheWay}`,Te={fluid:`opacity ${ae}`,snap:`transform ${ae}, opacity ${ae}`,drop:o(e=>{const t=`${e}s ${an.drop}`;return`transform ${t}, opacity ${t}`},"drop"),outOfTheWay:`transform ${ae}`,placeholder:`height ${ae}, width ${ae}, margin ${ae}`},qn=o(e=>re(e,F)?void 0:`translate(${e.x}px, ${e.y}px)`,"moveTo"),Ft={moveTo:qn,drop:o((e,t)=>{const n=qn(e);if(n)return t?`${n} scale(${_e.scale.drop})`:n},"drop")},{minDropTime:_t,maxDropTime:yo}=vo,Zl=yo-_t,zn=1500,ec=.6;var tc=o(({current:e,destination:t,reason:n})=>{const r=Le(e,t);if(r<=0)return _t;if(r>=zn)return yo;const s=r/zn,i=_t+Zl*s,a=n==="CANCEL"?i*ec:i;return Number(a.toFixed(2))},"getDropDuration"),nc=o(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=z(e),c=l?a[l]:null,d=a[t.descriptor.droppableId],p=po({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:c||d,viewport:r});return q(p,t.client.borderBox.center)},"getNewHomeClientOffset"),rc=o(({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:fo({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Me},didDropInsideDroppable:!0},"getDropImpact");const oc=o(({getState:e,dispatch:t})=>n=>r=>{if(!B(r,"DROP")){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(Jl({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&y(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||y();const l=s.critical,c=s.dimensions,d=c.draggables[s.critical.draggable.id],{impact:p,didDropInsideDroppable:f}=rc({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),u=f?Qt(p):null,m=f?ft(p):null,h={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:h,reason:i,mode:s.movementMode,destination:u,combine:m},b=nc({impact:p,draggable:d,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),D={critical:s.critical,afterCritical:s.afterCritical,result:x,impact:p};if(!(!re(s.current.client.offset,b)||!!x.combine)){t(sn({completed:D}));return}const E=tc({current:s.current.client.offset,destination:b,reason:i});t(Kl({newHomeClientOffset:b,dropDuration:E,completed:D}))},"dropMiddleware");var Do=o(()=>({x:window.pageXOffset,y:window.pageYOffset}),"getWindowScroll");function sc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(t=>{t.target!==window&&t.target!==window.document||e()},"fn")}}o(sc,"getWindowScrollBinding");function ic({onWindowScroll:e}){function t(){e(Do())}o(t,"updateScroll");const n=je(t),r=sc(n);let s=ne;function i(){return s!==ne}o(i,"isActive2");function a(){i()&&y(),s=X(window,[r])}o(a,"start2");function l(){i()||y(),n.cancel(),s(),s=ne}return o(l,"stop"),{start:a,stop:l,isActive:i}}o(ic,"getScrollListener");const ac=o(e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH"),"shouldStop$1"),lc=o(e=>{const t=ic({onWindowScroll:o(n=>{e.dispatch(Vl({newScroll:n}))},"onWindowScroll")});return n=>r=>{!t.isActive()&&B(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&ac(r)&&t.stop(),n(r)}},"scrollListener");var cc=o(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o(i=>{t||n||(t=!0,e(i),clearTimeout(r))},"result");return s.wasCalled=()=>t,s},"getExpiringAnnounce"),dc=o(()=>{const e=[],t=o(s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&y();const[a]=e.splice(i,1);a.callback()},"execute2");return{add:o(s=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:s};e.push(a)},"add2"),flush:o(()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})},"flush2")}},"getAsyncMarshal");const uc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,"areLocationsEqual"),fc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,"isCombineEqual"),pc=o((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},"isCriticalEqual"),Ee=o((e,t)=>{t()},"withTimings"),ze=o((e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}),"getDragStart");function It(e,t,n,r){if(!e){n(r(t));return}const s=cc(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}o(It,"execute");var gc=o((e,t)=>{const n=dc();let r=null;const s=o((f,u)=>{r&&y(),Ee("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:u})})},"beforeCapture"),i=o((f,u)=>{r&&y(),Ee("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(ze(f,u))})},"beforeStart"),a=o((f,u)=>{r&&y();const m=ze(f,u);r={mode:u,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{Ee("onDragStart",()=>It(e().onDragStart,m,t,Xe.onDragStart))})},"start2"),l=o((f,u)=>{const m=Qt(u),h=ft(u);r||y();const x=!pc(f,r.lastCritical);x&&(r.lastCritical=f);const b=!uc(r.lastLocation,m);b&&(r.lastLocation=m);const D=!fc(r.lastCombine,h);if(D&&(r.lastCombine=h),!x&&!b&&!D)return;const C={...ze(f,r.mode),combine:h,destination:m};n.add(()=>{Ee("onDragUpdate",()=>It(e().onDragUpdate,C,t,Xe.onDragUpdate))})},"update2"),c=o(()=>{r||y(),n.flush()},"flush2"),d=o(f=>{r||y(),r=null,Ee("onDragEnd",()=>It(e().onDragEnd,f,t,Xe.onDragEnd))},"drop2");return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:d,abort:o(()=>{if(!r)return;const f={...ze(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(f)},"abort")}},"getPublisher"),mc=o((e,t)=>{const n=gc(e,t);return r=>s=>i=>{if(B(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(B(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(B(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),B(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}},"responders");const hc=o(e=>t=>n=>{if(!B(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&y(),e.dispatch(sn({completed:r.completed}))},"dropAnimationFinishMiddleware"),bc=o(e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o(r,"clear"),s=>i=>{if((B(i,"FLUSH")||B(i,"DROP_COMPLETE")||B(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!B(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:o(function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(xo())},"flushDropAnimation")};n=requestAnimationFrame(()=>{n=null,t=X(window,[a])})}},"dropAnimationFlushOnScrollMiddleware");var xc=o(e=>()=>t=>n=>{(B(n,"DROP_COMPLETE")||B(n,"FLUSH")||B(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},"dimensionMarshalStopper"),vc=o(e=>{let t=!1;return()=>n=>r=>{if(B(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(B(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(B(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}},"focus");const yc=o(e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH"),"shouldStop");var Dc=o(e=>t=>n=>r=>{if(yc(r)){e.stop(),n(r);return}if(B(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&y(),e.start(s);return}n(r),e.scroll(t.getState())},"autoScroll");const Cc=o(e=>t=>n=>{if(t(n),!B(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(bo({reason:r.reason})))},"pendingDrop"),Sc=Mr;var Ic=o(({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>Lr(jl,Sc(Ci(Ql(n),xc(e),Xl(e),oc,hc,bc,Cc,Dc(i),lc,vc(t),mc(r,s)))),"createStore");const wt=o(()=>({additions:{},removals:{},modified:{}}),"clean$1");function wc({registry:e,callbacks:t}){let n=wt(),r=null;const s=o(()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:p}=n,f=Object.keys(c).map(h=>e.draggable.getById(h).getDimension(F)).sort((h,x)=>h.descriptor.index-x.descriptor.index),u=Object.keys(p).map(h=>{const b=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:b}}),m={additions:f,removals:Object.keys(d),modified:u};n=wt(),t.publish(m)}))},"collect");return{add:o(c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},"add2"),remove:o(c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},"remove"),stop:o(()=>{r&&(cancelAnimationFrame(r),r=null,n=wt())},"stop")}}o(wc,"createPublisher");var Co=o(({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=q({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},"getMaxScroll"),So=o(()=>{const e=document.documentElement;return e||y(),e},"getDocumentElement"),Io=o(()=>{const e=So();return Co({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},"getMaxWindowScroll"),Ec=o(()=>{const e=Do(),t=Io(),n=e.y,r=e.x,s=So(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:Z({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:F,displacement:F}}}},"getViewport"),Pc=o(({critical:e,scrollOptions:t,registry:n})=>{const r=Ec(),s=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map(p=>p.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(s));return{dimensions:{draggables:Xr(l),droppables:Jr(a)},critical:e,viewport:r}},"getInitialPublish");function Yn(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}o(Yn,"shouldPublishUpdate");var Nc=o((e,t)=>{let n=null;const r=wc({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=o((u,m)=>{e.droppable.exists(u)||y(),n&&t.updateDroppableIsEnabled({id:u,isEnabled:m})},"updateDroppableIsEnabled2"),i=o((u,m)=>{n&&(e.droppable.exists(u)||y(),t.updateDroppableIsCombineEnabled({id:u,isCombineEnabled:m}))},"updateDroppableIsCombineEnabled2"),a=o((u,m)=>{n&&(e.droppable.exists(u)||y(),t.updateDroppableScroll({id:u,newScroll:m}))},"updateDroppableScroll2"),l=o((u,m)=>{n&&e.droppable.getById(u).callbacks.scroll(m)},"scrollDroppable2"),c=o(()=>{if(!n)return;r.stop();const u=n.critical.droppable;e.droppable.getAllByType(u.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},"stopPublishing"),d=o(u=>{n||y();const m=n.critical.draggable;u.type==="ADDITION"&&Yn(e,m,u.value)&&r.add(u.value),u.type==="REMOVAL"&&Yn(e,m,u.value)&&r.remove(u.value)},"subscriber");return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:o(u=>{n&&y();const m=e.draggable.getById(u.draggableId),h=e.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:h.descriptor},b=e.subscribe(d);return n={critical:x,unsubscribe:b},Pc({critical:x,registry:e,scrollOptions:u.scrollOptions})},"startPublishing"),stopPublishing:c}},"createDimensionMarshal"),wo=o((e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP","canStartDrag"),Ac=o(e=>{window.scrollBy(e.x,e.y)},"scrollWindow");const Rc=M(e=>ut(e).filter(t=>!(!t.isEnabled||!t.frame))),Oc=o((e,t)=>Rc(t).find(r=>(r.frame||y(),ao(r.frame.pageMarginBox)(e)))||null,"getScrollableDroppableOver");var Tc=o(({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Oc(e,n)},"getBestScrollableDroppable");const Ge={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:o(e=>e**2,"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Bc=o((e,t,n=()=>Ge)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},"getDistanceThresholds"),Eo=o(({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},"getPercentage"),ln=1,jc=o((e,t,n=()=>Ge)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return ln;const i=1-Eo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},"getValueFromDistance"),Lc=o((e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,l=i,d=Date.now()-a;if(d>=i)return e;if(d<s)return ln;const p=Eo({startOfRange:s,endOfRange:l,current:d}),f=e*r.ease(p);return Math.ceil(f)},"dampenValueByTime"),Kn=o(({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=jc(e,t,s);return i===0?0:r?Math.max(Lc(i,n,s),ln):i},"getValue"),Jn=o(({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=Bc(e,r,i);return t[r.end]<t[r.start]?Kn({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*Kn({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},"getScrollOnAxis"),Mc=o(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}},"adjustForSizeLimits");const Fc=Kr(e=>e===0?0:e);var Po=o(({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=Jn({container:t,distanceToEdges:a,dragStartTime:e,axis:Zt,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=Jn({container:t,distanceToEdges:a,dragStartTime:e,axis:eo,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=Fc({x:c,y:l});if(re(d,F))return null;const p=Mc({container:t,subject:n,proposedScroll:d});return p?re(p,F)?null:p:null},"getScroll$1");const _c=Kr(e=>e===0?0:e>0?1:-1),cn=(()=>{const e=o((t,n)=>t<0?t:t>n?t-n:0,"getRemainder");return({current:t,max:n,change:r})=>{const s=G(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return re(i,F)?null:i}})(),No=o(({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=_c(n),i=cn({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},"canPartiallyScroll"),dn=o((e,t)=>No({current:e.scroll.current,max:e.scroll.max,change:t}),"canScrollWindow"),Gc=o((e,t)=>{if(!dn(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return cn({current:r,max:n,change:t})},"getWindowOverlap"),un=o((e,t)=>{const n=e.frame;return n?No({current:n.scroll.current,max:n.scroll.max,change:t}):!1},"canScrollDroppable"),kc=o((e,t)=>{const n=e.frame;return!n||!un(e,t)?null:cn({current:n.scroll.current,max:n.scroll.max,change:t})},"getDroppableOverlap");var $c=o(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=Po({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&dn(e,a)?a:null},"getWindowScrollChange"),Wc=o(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const l=Po({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&un(e,l)?l:null},"getDroppableScrollChange"),Xn=o(({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,u=$c({dragStartTime:t,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(u){r(u);return}}const d=Tc({center:a,destination:z(e.impact),droppables:e.dimensions.droppables});if(!d)return;const p=Wc({dragStartTime:t,droppable:d,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});p&&s(d.descriptor.id,p)},"scroll"),Vc=o(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=o(()=>Ge,"getAutoScrollerOptions")})=>{const r=je(e),s=je(t);let i=null;const a=o(d=>{i||y();const{shouldUseTimeDampening:p,dragStartTime:f}=i;Xn({state:d,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:p,getAutoScrollerOptions:n})},"tryScroll");return{start:o(d=>{i&&y();const p=Date.now();let f=!1;const u=o(()=>{f=!0},"fakeScrollCallback");Xn({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:u,scrollDroppable:u,getAutoScrollerOptions:n}),i={dragStartTime:p,shouldUseTimeDampening:f},f&&a(d)},"start$1"),stop:o(()=>{i&&(r.cancel(),s.cancel(),i=null)},"stop"),scroll:a}},"createFluidScroller"),Uc=o(({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=o((l,c)=>{const d=G(l.current.client.selection,c);e({client:d})},"moveByOffset"),s=o((l,c)=>{if(!un(l,c))return c;const d=kc(l,c);if(!d)return t(l.descriptor.id,c),null;const p=q(c,d);return t(l.descriptor.id,p),q(c,p)},"scrollDroppableAsMuchAsItCan"),i=o((l,c,d)=>{if(!l||!dn(c,d))return d;const p=Gc(c,d);if(!p)return n(d),null;const f=q(d,p);return n(f),q(d,f)},"scrollWindowAsMuchAsItCan");return o(l=>{const c=l.scrollJumpRequest;if(!c)return;const d=z(l.impact);d||y();const p=s(l.dimensions.droppables[d],c);if(!p)return;const f=l.viewport,u=i(l.isWindowScrollAllowed,f,p);u&&r(l,u)},"jumpScroller")},"createJumpScroller"),Hc=o(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=Vc({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=Uc({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:o(c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},"scroll2"),start:s.start,stop:s.stop}},"createAutoScroller");const ge="data-rfd",me=(()=>{const e=`${ge}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Gt=(()=>{const e=`${ge}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),qc=(()=>{const e=`${ge}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Qn={contextId:`${ge}-scroll-container-context-id`},zc=o(e=>t=>`[${t}="${e}"]`,"makeGetSelector"),Pe=o((e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),"getStyles"),Yc="pointer-events: none;";var Kc=o(e=>{const t=zc(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(me.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Yc,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Te.outOfTheWay};
    `;return{selector:t(Gt.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(qc.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Pe(a,"always"),resting:Pe(a,"resting"),dragging:Pe(a,"dragging"),dropAnimating:Pe(a,"dropAnimating"),userCancel:Pe(a,"userCancel")}},"getStyles$1");const Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Et=o(()=>{const e=document.querySelector("head");return e||y(),e},"getHead"),Zn=o(e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},"createStyleEl");function Jc(e,t){const n=R(()=>Kc(e),[e]),r=v.useRef(null),s=v.useRef(null),i=w(M(f=>{const u=s.current;u||y(),u.textContent=f}),[]),a=w(f=>{const u=r.current;u||y(),u.textContent=f},[]);Y(()=>{!r.current&&!s.current||y();const f=Zn(t),u=Zn(t);return r.current=f,s.current=u,f.setAttribute(`${ge}-always`,e),u.setAttribute(`${ge}-dynamic`,e),Et().appendChild(f),Et().appendChild(u),a(n.always),i(n.resting),()=>{const m=o(h=>{const x=h.current;x||y(),Et().removeChild(x),h.current=null},"remove");m(r),m(s)}},[t,a,i,n.always,n.resting,e]);const l=w(()=>i(n.dragging),[i,n.dragging]),c=w(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=w(()=>{s.current&&i(n.resting)},[i,n.resting]);return R(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}o(Jc,"useStyleMarshal");function Ao(e,t){return Array.from(e.querySelectorAll(t))}o(Ao,"querySelectorAll");var Ro=o(e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window,"getWindowFromEl");function mt(e){return e instanceof Ro(e).HTMLElement}o(mt,"isHtmlElement");function Xc(e,t){const n=`[${me.contextId}="${e}"]`,r=Ao(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(me.draggableId)===t);return!s||!mt(s)?null:s}o(Xc,"findDragHandle");function Qc(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),i=w(o(function(u,m){const h={id:u,focus:m};return t.current[u]=h,o(function(){const b=t.current;b[u]!==h&&delete b[u]},"unregister")},"register2"),[]),a=w(o(function(u){const m=Xc(e,u);m&&m!==document.activeElement&&m.focus()},"tryGiveFocus2"),[e]),l=w(o(function(u,m){n.current===u&&(n.current=m)},"tryShiftRecord2"),[]),c=w(o(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const u=n.current;u&&a(u)}))},"tryRestoreFocusRecorded2"),[a]),d=w(o(function(u){n.current=null;const m=document.activeElement;m&&m.getAttribute(me.draggableId)===u&&(n.current=u)},"tryRecordFocus2"),[]);return Y(()=>(s.current=!0,o(function(){s.current=!1;const u=r.current;u&&cancelAnimationFrame(u)},"clearFrameOnUnmount")),[]),R(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}o(Qc,"useFocusMarshal");function Zc(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),o(function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)},"unsubscribe")}o(n,"subscribe");function r(f){t.length&&t.forEach(u=>u(f))}o(r,"notify");function s(f){return e.draggables[f]||null}o(s,"findDraggableById");function i(f){const u=s(f);return u||y(),u}o(i,"getDraggableById");const a={register:o(f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},"register"),update:o((f,u)=>{const m=e.draggables[u.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[u.descriptor.id],e.draggables[f.descriptor.id]=f)},"update"),unregister:o(f=>{const u=f.descriptor.id,m=s(u);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[u],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},"unregister"),getById:i,findById:s,exists:o(f=>!!s(f),"exists"),getAllByType:o(f=>Object.values(e.draggables).filter(u=>u.descriptor.type===f),"getAllByType")};function l(f){return e.droppables[f]||null}o(l,"findDroppableById");function c(f){const u=l(f);return u||y(),u}o(c,"getDroppableById");const d={register:o(f=>{e.droppables[f.descriptor.id]=f},"register"),unregister:o(f=>{const u=l(f.descriptor.id);u&&f.uniqueId===u.uniqueId&&delete e.droppables[f.descriptor.id]},"unregister"),getById:c,findById:l,exists:o(f=>!!l(f),"exists"),getAllByType:o(f=>Object.values(e.droppables).filter(u=>u.descriptor.type===f),"getAllByType")};function p(){e.draggables={},e.droppables={},t.length=0}return o(p,"clean2"),{draggable:a,droppable:d,subscribe:n,clean:p}}o(Zc,"createRegistry");function ed(){const e=R(Zc,[]);return v.useEffect(()=>o(function(){e.clean()},"unmount"),[e]),e}o(ed,"useRegistry");var fn=L.createContext(null),ot=o(()=>{const e=document.body;return e||y(),e},"getBodyElement");const td={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},nd=o(e=>`rfd-announcement-${e}`,"getId");function rd(e){const t=R(()=>nd(e),[e]),n=v.useRef(null);return v.useEffect(o(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),tt(i.style,td),ot().appendChild(i),o(function(){setTimeout(o(function(){const c=ot();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)},"remove"))},"cleanup")},"setup"),[t]),w(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}o(rd,"useAnnouncer");const od={separator:"::"};function pn(e,t=od){const n=L.useId();return R(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}o(pn,"useUniqueId");function sd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}o(sd,"getElementId");function id({contextId:e,text:t}){const n=pn("hidden-text",{separator:"-"}),r=R(()=>sd({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(o(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",ot().appendChild(i),o(function(){const l=ot();l.contains(i)&&l.removeChild(i)},"unmount")},"mount"),[r,t]),r}o(id,"useHiddenTextElement");var ht=L.createContext(null);function Oo(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}o(Oo,"usePrevious");function ad(){let e=null;function t(){return!!e}o(t,"isClaimed");function n(a){return a===e}o(n,"isActive2");function r(a){e&&y();const l={abandon:a};return e=l,l}o(r,"claim");function s(){e||y(),e=null}o(s,"release");function i(){e&&(e.abandon(),s())}return o(i,"tryAbandon"),{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}o(ad,"create");function ke(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}o(ke,"isDragging");const ld=9,cd=13,gn=27,To=32,dd=33,ud=34,fd=35,pd=36,gd=37,md=38,hd=39,bd=40,xd={[cd]:!0,[ld]:!0};var Bo=o(e=>{xd[e.keyCode]&&e.preventDefault()},"preventStandardKeyEvents");const bt=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),jo=0,er=5;function vd(e,t){return Math.abs(t.x-e.x)>=er||Math.abs(t.y-e.y)>=er}o(vd,"isSloppyClickThresholdExceeded");const tr={type:"IDLE"};function yd({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o(s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==jo)return;const c={x:a,y:l},d=n();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&y();const p=d.point;if(!vd(p,c))return;s.preventDefault();const f=d.actions.fluidLift(c);r({type:"DRAGGING",actions:f})},"fn")},{eventName:"mouseup",fn:o(s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"mousedown",fn:o(s=>{n().type==="DRAGGING"&&s.preventDefault(),e()},"fn")},{eventName:"keydown",fn:o(s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===gn){s.preventDefault(),e();return}Bo(s)},"fn")},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(()=>{n().type==="PENDING"&&e()},"fn")},{eventName:"webkitmouseforcedown",fn:o(s=>{const i=n();if(i.type==="IDLE"&&y(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()},"fn")},{eventName:bt,fn:e}]}o(yd,"getCaptureBindings");function Dd(e){const t=v.useRef(tr),n=v.useRef(ne),r=R(()=>({eventName:"mousedown",fn:o(function(f){if(f.defaultPrevented||f.button!==jo||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const u=e.findClosestDraggableId(f);if(!u)return;const m=e.tryGetLock(u,a,{sourceEvent:f});if(!m)return;f.preventDefault();const h={x:f.clientX,y:f.clientY};n.current(),d(m,h)},"onMouseDown")}),[e]),s=R(()=>({eventName:"webkitmouseforcewillbegin",fn:o(p=>{if(p.defaultPrevented)return;const f=e.findClosestDraggableId(p);if(!f)return;const u=e.findOptionsForDraggable(f);u&&(u.shouldRespectForcePress||e.canGetLock(f)&&p.preventDefault())},"fn")}),[e]),i=w(o(function(){const f={passive:!1,capture:!0};n.current=X(window,[s,r],f)},"listenForCapture2"),[s,r]),a=w(()=>{t.current.type!=="IDLE"&&(t.current=tr,n.current(),i())},[i]),l=w(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=w(o(function(){const f={capture:!0,passive:!1},u=yd({cancel:l,completed:a,getPhase:o(()=>t.current,"getPhase"),setPhase:o(m=>{t.current=m},"setPhase")});n.current=X(window,u,f)},"bindCapturingEvents2"),[l,a]),d=w(o(function(f,u){t.current.type!=="IDLE"&&y(),t.current={type:"PENDING",point:u,actions:f},c()},"startPendingDrag2"),[c]);Y(o(function(){return i(),o(function(){n.current()},"unmount")},"mount"),[i])}o(Dd,"useMouseSensor");function Cd(){}o(Cd,"noop$1");const Sd={[ud]:!0,[dd]:!0,[pd]:!0,[fd]:!0};function Id(e,t){function n(){t(),e.cancel()}o(n,"cancel");function r(){t(),e.drop()}return o(r,"drop2"),[{eventName:"keydown",fn:o(s=>{if(s.keyCode===gn){s.preventDefault(),n();return}if(s.keyCode===To){s.preventDefault(),r();return}if(s.keyCode===bd){s.preventDefault(),e.moveDown();return}if(s.keyCode===md){s.preventDefault(),e.moveUp();return}if(s.keyCode===hd){s.preventDefault(),e.moveRight();return}if(s.keyCode===gd){s.preventDefault(),e.moveLeft();return}if(Sd[s.keyCode]){s.preventDefault();return}Bo(s)},"fn")},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:bt,fn:n}]}o(Id,"getDraggingBindings");function wd(e){const t=v.useRef(Cd),n=R(()=>({eventName:"keydown",fn:o(function(i){if(i.defaultPrevented||i.keyCode!==To)return;const a=e.findClosestDraggableId(i);if(!a)return;const l=e.tryGetLock(a,p,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function p(){c||y(),c=!1,t.current(),r()}o(p,"stop"),t.current=X(window,Id(d,p),{capture:!0,passive:!1})},"onKeyDown")}),[e]),r=w(o(function(){const i={passive:!1,capture:!0};t.current=X(window,[n],i)},"tryStartCapture"),[n]);Y(o(function(){return r(),o(function(){t.current()},"unmount")},"mount"),[r])}o(wd,"useKeyboardSensor");const Pt={type:"IDLE"},Ed=120,Pd=.15;function Nd({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:o(n=>{n.preventDefault()},"fn")},{eventName:"keydown",fn:o(n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===gn&&n.preventDefault(),e()},"fn")},{eventName:bt,fn:e}]}o(Nd,"getWindowBindings");function Ad({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)},"fn")},{eventName:"touchend",fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"touchcancel",fn:o(r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()},"fn")},{eventName:"touchforcechange",fn:o(r=>{const s=n();s.type==="IDLE"&&y();const i=r.touches[0];if(!i||!(i.force>=Pd))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()},"fn")},{eventName:bt,fn:e}]}o(Ad,"getHandleBindings");function Rd(e){const t=v.useRef(Pt),n=v.useRef(ne),r=w(o(function(){return t.current},"getPhase2"),[]),s=w(o(function(m){t.current=m},"setPhase2"),[]),i=R(()=>({eventName:"touchstart",fn:o(function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const x=e.tryGetLock(h,l,{sourceEvent:m});if(!x)return;const b=m.touches[0],{clientX:D,clientY:C}=b,E={x:D,y:C};n.current(),f(x,E)},"onTouchStart")}),[e]),a=w(o(function(){const m={capture:!0,passive:!1};n.current=X(window,[i],m)},"listenForCapture2"),[i]),l=w(()=>{const u=t.current;u.type!=="IDLE"&&(u.type==="PENDING"&&clearTimeout(u.longPressTimerId),s(Pt),n.current(),a())},[a,s]),c=w(()=>{const u=t.current;l(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[l]),d=w(o(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:r},x=X(window,Ad(h),m),b=X(window,Nd(h),m);n.current=o(function(){x(),b()},"unbindAll")},"bindCapturingEvents2"),[c,r,l]),p=w(o(function(){const m=r();m.type!=="PENDING"&&y();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},"startDragging2"),[r,s]),f=w(o(function(m,h){r().type!=="IDLE"&&y();const x=setTimeout(p,Ed);s({type:"PENDING",point:h,actions:m,longPressTimerId:x}),d()},"startPendingDrag2"),[d,r,s,p]);Y(o(function(){return a(),o(function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Pt))},"unmount")},"mount"),[r,a,s]),Y(o(function(){return X(window,[{eventName:"touchmove",fn:o(()=>{},"fn"),options:{capture:!1,passive:!1}}])},"webkitHack"),[])}o(Rd,"useTouchSensor");const Od=["input","button","textarea","select","option","optgroup","video","audio"];function Lo(e,t){if(t==null)return!1;if(Od.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Lo(e,t.parentElement)}o(Lo,"isAnInteractiveElement");function Td(e,t){const n=t.target;return mt(n)?Lo(e,n):!1}o(Td,"isEventInInteractiveElement");var Bd=o(e=>Z(e.getBoundingClientRect()).center,"getBorderBoxCenterPosition");function jd(e){return e instanceof Ro(e).Element}o(jd,"isElement");const Ld=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Mo(e,t){return e==null?null:e[Ld](t)?e:Mo(e.parentElement,t)}o(Mo,"closestPonyfill");function Md(e,t){return e.closest?e.closest(t):Mo(e,t)}o(Md,"closest");function Fd(e){return`[${me.contextId}="${e}"]`}o(Fd,"getSelector");function _d(e,t){const n=t.target;if(!jd(n))return null;const r=Fd(e),s=Md(n,r);return!s||!mt(s)?null:s}o(_d,"findClosestDragHandleFromEvent");function Gd(e,t){const n=_d(e,t);return n?n.getAttribute(me.draggableId):null}o(Gd,"tryGetClosestDraggableIdFromEvent");function kd(e,t){const n=`[${Gt.contextId}="${e}"]`,s=Ao(document,n).find(i=>i.getAttribute(Gt.id)===t);return!s||!mt(s)?null:s}o(kd,"findDraggable");function $d(e){e.preventDefault()}o($d,"preventDefault");function Ye({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}o(Ye,"isActive");function Fo({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!wo(t.getState(),r))}o(Fo,"canStart");function Wd({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!Fo({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),d=kd(t,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&Td(d,a))return null;const p=e.claim(i||ne);let f="PRE_DRAG";function u(){return c.options.shouldRespectForcePress}o(u,"getShouldRespectForcePress");function m(){return e.isActive(p)}o(m,"isLockActive");function h(I,P){Ye({expected:I,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(P())}o(h,"tryDispatch");const x=h.bind(null,"DRAGGING");function b(I){function P(){e.release(),f="COMPLETED"}o(P,"completed"),f!=="PRE_DRAG"&&(P(),y()),n.dispatch(Ml(I.liftActionArgs)),f="DRAGGING";function O(T,k={shouldBlockNextClick:!1}){if(I.cleanup(),k.shouldBlockNextClick){const N=X(window,[{eventName:"click",fn:$d,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}P(),n.dispatch(bo({reason:T}))}return o(O,"finish2"),{isActive:o(()=>Ye({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:u,drop:o(T=>O("DROP",T),"drop"),cancel:o(T=>O("CANCEL",T),"cancel"),...I.actions}}o(b,"lift2");function D(I){const P=je(T=>{x(()=>ho({client:T}))});return{...b({liftActionArgs:{id:s,clientSelection:I,movementMode:"FLUID"},cleanup:o(()=>P.cancel(),"cleanup"),actions:{move:P}}),move:P}}o(D,"fluidLift");function C(){const I={moveUp:o(()=>x(Hl),"moveUp"),moveRight:o(()=>x(zl),"moveRight"),moveDown:o(()=>x(ql),"moveDown"),moveLeft:o(()=>x(Yl),"moveLeft")};return b({liftActionArgs:{id:s,clientSelection:Bd(d),movementMode:"SNAP"},cleanup:ne,actions:I})}o(C,"snapLift");function E(){Ye({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return o(E,"abortPreDrag"),{isActive:o(()=>Ye({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:u,fluidLift:D,snapLift:C,abort:E}}o(Wd,"tryStart");const Vd=[Dd,wd,Rd];function Ud({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?Vd:[],...r||[]],a=v.useState(()=>ad())[0],l=w(o(function(b,D){ke(b)&&!ke(D)&&a.tryAbandon()},"tryAbandonLock2"),[a]);Y(o(function(){let b=t.getState();return t.subscribe(()=>{const C=t.getState();l(b,C),b=C})},"listenToStore"),[a,t,l]),Y(()=>a.tryAbandon,[a.tryAbandon]);const c=w(x=>Fo({lockAPI:a,registry:n,store:t,draggableId:x}),[a,n,t]),d=w((x,b,D)=>Wd({lockAPI:a,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:b||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,a,n,t]),p=w(x=>Gd(e,x),[e]),f=w(x=>{const b=n.draggable.findById(x);return b?b.options:null},[n.draggable]),u=w(o(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(on()))},"tryReleaseLock2"),[a,t]),m=w(()=>a.isClaimed(),[a]),h=R(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:u,isLockClaimed:m}),[c,d,p,f,u,m]);for(let x=0;x<i.length;x++)i[x](h)}o(Ud,"useSensorMarshal");const Hd=o(e=>({onBeforeCapture:o(t=>{const n=o(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)},"onBeforeCapureCallback");Dr.flushSync(n)},"onBeforeCapture"),onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),"createResponders"),qd=o(e=>({...Ge,...e.autoScrollerOptions,durationDampening:{...Ge.durationDampening,...e.autoScrollerOptions}}),"createAutoScrollerOptions");function Ne(e){return e.current||y(),e.current}o(Ne,"getStore");function zd(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,a=v.useRef(null),l=Oo(e),c=w(()=>Hd(l.current),[l]),d=w(()=>qd(l.current),[l]),p=rd(t),f=id({contextId:t,text:i}),u=Jc(t,s),m=w(N=>{Ne(a).dispatch(N)},[]),h=R(()=>Pn({publishWhileDragging:_l,updateDroppableScroll:kl,updateDroppableIsEnabled:$l,updateDroppableIsCombineEnabled:Wl,collectionStarting:Gl},m),[m]),x=ed(),b=R(()=>Nc(x,h),[x,h]),D=R(()=>Hc({scrollWindow:Ac,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...Pn({move:ho},m)}),[b.scrollDroppable,m,d]),C=Qc(t),E=R(()=>Ic({announce:p,autoScroller:D,dimensionMarshal:b,focusMarshal:C,getResponders:c,styleMarshal:u}),[p,D,b,C,c,u]);a.current=E;const S=w(()=>{const N=Ne(a);N.getState().phase!=="IDLE"&&N.dispatch(on())},[]),I=w(()=>{const N=Ne(a).getState();return N.phase==="DROP_ANIMATING"?!0:N.phase==="IDLE"?!1:N.isDragging},[]),P=R(()=>({isDragging:I,tryAbort:S}),[I,S]);n(P);const O=w(N=>wo(Ne(a).getState(),N),[]),T=w(()=>le(Ne(a).getState()),[]),k=R(()=>({marshal:b,focus:C,contextId:t,canLift:O,isMovementAllowed:T,dragHandleUsageInstructionsId:f,registry:x}),[t,b,f,C,O,T,x]);return Ud({contextId:t,store:E,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>S,[S]),L.createElement(ht.Provider,{value:k},L.createElement(va,{context:fn,store:E},e.children))}o(zd,"App");function Yd(){return L.useId()}o(Yd,"useUniqueContextId");function Kd(e){const t=Yd(),n=e.dragHandleUsageInstructions||Xe.dragHandleUsageInstructions;return L.createElement(jt,null,r=>L.createElement(zd,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}o(Kd,"DragDropContext");const nr={dragging:5e3,dropAnimating:4500},Jd=o((e,t)=>t?Te.drop(t.duration):e?Te.snap:Te.fluid,"getDraggingTransition"),Xd=o((e,t)=>{if(e)return t?_e.opacity.drop:_e.opacity.combining},"getDraggingOpacity"),Qd=o(e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP","getShouldDraggingAnimate");function Zd(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,a=!!s,l=Qd(e),c=!!i,d=c?Ft.drop(r,a):Ft.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Jd(l,i),transform:d,opacity:Xd(a,c),zIndex:c?nr.dropAnimating:nr.dragging,pointerEvents:"none"}}o(Zd,"getDraggingStyle");function eu(e){return{transform:Ft.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}o(eu,"getSecondaryStyle");function tu(e){return e.type==="DRAGGING"?Zd(e):eu(e)}o(tu,"getStyle$1");function nu(e,t,n=F){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=Vr(s,r),a=et(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:a}}o(nu,"getDimension$1");function ru(e){const t=pn("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=e,c=R(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),d=w(m=>{const h=s();return h||y(),nu(n,h,m)},[n,s]),p=R(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),f=v.useRef(p),u=v.useRef(!0);Y(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Y(()=>{if(u.current){u.current=!1;return}const m=f.current;f.current=p,r.draggable.update(p,m)},[p,r.draggable])}o(ru,"useDraggablePublisher");var mn=L.createContext(null);function st(e){const t=v.useContext(e);return t||y(),t}o(st,"useRequiredContext");function ou(e){e.preventDefault()}o(ou,"preventHtml5Dnd");const su=o(e=>{const t=v.useRef(null),n=w((P=null)=>{t.current=P},[]),r=w(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=st(ht),{type:l,droppableId:c}=st(mn),d=R(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:p,draggableId:f,isEnabled:u,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:x,mapped:b,dropAnimationFinished:D}=e;if(!x){const P=R(()=>({descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:u}),[d,a,r,h,m,u]);ru(P)}const C=R(()=>u?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:ou}:null,[s,i,f,u]),E=w(P=>{b.type==="DRAGGING"&&b.dropping&&P.propertyName==="transform"&&Dr.flushSync(D)},[D,b]),S=R(()=>{const P=tu(b),O=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:P,onTransitionEnd:O},dragHandleProps:C}},[s,C,f,b,E,n]),I=R(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return L.createElement(L.Fragment,null,p(S,b.snapshot,I))},"Draggable");var _o=o((e,t)=>e===t,"isStrictEqual"),Go=o(e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null},"whatIsDraggedOverFromResult");const iu=o(e=>e.combine?e.combine.draggableId:null,"getCombineWithFromResult"),au=o(e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null,"getCombineWithFromImpact");function lu(){const e=M((s,i)=>({x:s,y:i})),t=M((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=M((s,i,a,l,c=null,d=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:s,dimension:a,forceShouldAnimate:p,snapshot:t(i,l,c,d,null)}}));return o((s,i)=>{if(ke(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=z(s.impact),d=au(s.impact),p=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,l,i.isClone,c,d,p)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],d=a.result,p=d.mode,f=Go(d),u=iu(d),h={duration:s.dropDuration,curve:an.drop,moveTo:s.newHomeClientOffset,opacity:u?_e.opacity.drop:null,scale:u?_e.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:h,draggingOver:f,combineWith:u,mode:p,forceShouldAnimate:null,snapshot:t(p,l,f,u,h)}}}return null},"selector")}o(lu,"getDraggableSelector");function ko(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}o(ko,"getSecondarySnapshot");const cu={mapped:{type:"SECONDARY",offset:F,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ko(null)}};function du(){const e=M((a,l)=>({x:a,y:l})),t=M(ko),n=M((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o(a=>a?n(F,a,!0):null,"getFallback"),s=o((a,l,c,d)=>{const p=c.displaced.visible[a],f=!!(d.inVirtualList&&d.effected[a]),u=ft(c),m=u&&u.draggableId===a?l:null;if(!p){if(!f)return r(m);if(c.displaced.invisible[a])return null;const b=be(d.displacedBy.point),D=e(b.x,b.y);return n(D,m,!0)}if(f)return r(m);const h=c.displacedBy.point,x=e(h.x,h.y);return n(x,m,p.shouldAnimate)},"getProps");return o((a,l)=>{if(ke(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null},"selector")}o(du,"getSecondarySelector");const uu=o(()=>{const e=lu(),t=du();return o((r,s)=>e(r,s)||t(r,s)||cu,"selector")},"makeMapStateToProps$1"),fu={dropAnimationFinished:xo},pu=Wr(uu,fu,null,{context:fn,areStatePropsEqual:_o})(su);function $o(e){return st(mn).isUsingCloneFor===e.draggableId&&!e.isClone?null:L.createElement(pu,e)}o($o,"PrivateDraggable");function gu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return L.createElement($o,tt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}o(gu,"PublicDraggable");const Wo=o(e=>t=>e===t,"isEqual"),mu=Wo("scroll"),hu=Wo("auto"),rr=o((e,t)=>t(e.overflowX)||t(e.overflowY),"isEither"),bu=o(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return rr(n,mu)||rr(n,hu)},"isElementScrollable"),xu=o(()=>!1,"isBodyScrollable"),Vo=o(e=>e==null?null:e===document.body?xu()?e:null:e===document.documentElement?null:bu(e)?e:Vo(e.parentElement),"getClosestScrollable");var kt=o(e=>({x:e.scrollLeft,y:e.scrollTop}),"getScroll");const Uo=o(e=>e?window.getComputedStyle(e).position==="fixed"?!0:Uo(e.parentElement):!1,"getIsFixed");var vu=o(e=>{const t=Vo(e),n=Uo(e);return{closestScrollable:t,isFixedOnPage:n}},"getEnv"),yu=o(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:u,client:m}=l,h=Co({scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:u,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:h,diff:{value:F,displacement:F}}}})(),d=s==="vertical"?Zt:eo,p=pe({page:a,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:i,page:a,frame:c,subject:p}},"getDroppableDimension");const Du=o((e,t)=>{const n=Ur(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=s+t.scrollWidth,c=Kt({top:r,right:a,bottom:i,left:s},n.border);return Jt({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})},"getClient");var Cu=o(({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,d=Du(e,c),p=et(d,r),f=(()=>{if(!c)return null;const m=Ur(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:et(m,r),scroll:kt(c),scrollSize:h,shouldClipSubject:l}})();return yu({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:p,closest:f})},"getDimension");const Su={passive:!1},Iu={passive:!0};var or=o(e=>e.shouldPublishImmediately?Su:Iu,"getListenerOptions");const Ke=o(e=>e&&e.env.closestScrollable||null,"getClosestScrollableFromDrag");function wu(e){const t=v.useRef(null),n=st(ht),r=pn("droppable"),{registry:s,marshal:i}=n,a=Oo(e),l=R(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=R(()=>M((S,I)=>{t.current||y();const P={x:S,y:I};i.updateDroppableScroll(l.id,P)}),[l.id,i]),p=w(()=>{const S=t.current;return!S||!S.env.closestScrollable?F:kt(S.env.closestScrollable)},[]),f=w(()=>{const S=p();d(S.x,S.y)},[p,d]),u=R(()=>je(f),[f]),m=w(()=>{const S=t.current,I=Ke(S);if(S&&I||y(),S.scrollOptions.shouldPublishImmediately){f();return}u()},[u,f]),h=w((S,I)=>{t.current&&y();const P=a.current,O=P.getDroppableRef();O||y();const T=vu(O),k={ref:O,descriptor:l,env:T,scrollOptions:I};t.current=k;const N=Cu({ref:O,descriptor:l,env:T,windowScroll:S,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),A=T.closestScrollable;return A&&(A.setAttribute(Qn.contextId,n.contextId),A.addEventListener("scroll",m,or(k.scrollOptions))),N},[n.contextId,l,m,a]),x=w(()=>{const S=t.current,I=Ke(S);return S&&I||y(),kt(I)},[]),b=w(()=>{const S=t.current;S||y();const I=Ke(S);t.current=null,I&&(u.cancel(),I.removeAttribute(Qn.contextId),I.removeEventListener("scroll",m,or(S.scrollOptions)))},[m,u]),D=w(S=>{const I=t.current;I||y();const P=Ke(I);P||y(),P.scrollTop+=S.y,P.scrollLeft+=S.x},[]),C=R(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:x,dragStopped:b,scroll:D}),[b,h,x,D]),E=R(()=>({uniqueId:r,descriptor:l,callbacks:C}),[C,l,r]);Y(()=>(c.current=E.descriptor,s.droppable.register(E),()=>{t.current&&b(),s.droppable.unregister(E)}),[C,l,b,E,i,s.droppable]),Y(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Y(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}o(wu,"useDroppablePublisher");function Nt(){}o(Nt,"noop");const sr={width:0,height:0,margin:Ta},Eu=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?sr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},"getSize"),Pu=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Eu({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Te.placeholder:null}},"getStyle"),Nu=o(e=>{const t=v.useRef(null),n=w(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(n(),c(!1),Nt):t.current?Nt:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Nt,[r,l,n]);const d=w(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),p=Pu({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return L.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})},"Placeholder");var Au=L.memo(Nu);const xn=class xn extends L.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}};o(xn,"AnimateInOut");let $t=xn;const Ru=o(e=>{const t=v.useContext(ht);t||y();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),i=v.useRef(null),{children:a,droppableId:l,type:c,mode:d,direction:p,ignoreContainerClipping:f,isDropDisabled:u,isCombineEnabled:m,snapshot:h,useClone:x,updateViewportMaxScroll:b,getContainerForClone:D}=e,C=w(()=>s.current,[]),E=w((A=null)=>{s.current=A},[]);w(()=>i.current,[]);const S=w((A=null)=>{i.current=A},[]),I=w(()=>{r()&&b({maxScroll:Io()})},[r,b]);wu({droppableId:l,type:c,mode:d,direction:p,isDropDisabled:u,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:C});const P=R(()=>L.createElement($t,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:A,data:$,animate:K})=>L.createElement(Au,{placeholder:$,onClose:A,innerRef:S,animate:K,contextId:n,onTransitionEnd:I})),[n,I,e.placeholder,e.shouldAnimatePlaceholder,S]),O=R(()=>({innerRef:E,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,E]),T=x?x.dragging.draggableId:null,k=R(()=>({droppableId:l,type:c,isUsingCloneFor:T}),[l,T,c]);function N(){if(!x)return null;const{dragging:A,render:$}=x,K=L.createElement($o,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(j,_)=>$(j,_,A));return Is.createPortal(K,D())}return o(N,"getClone"),L.createElement(mn.Provider,{value:k},a(O,h),N())},"Droppable");function Ou(){return document.body||y(),document.body}o(Ou,"getBody");const ir={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ou},Ho=o(e=>{let t={...e},n;for(n in ir)e[n]===void 0&&(t={...t,[n]:ir[n]});return t},"attachDefaultPropsToOwnProps"),At=o((e,t)=>e===t.droppable.type,"isMatchingType"),ar=o((e,t)=>t.draggables[e.draggable.id],"getDraggable"),Tu=o(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=M(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=M((i,a,l,c,d,p)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const h=p?{render:p,dragging:n(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:h}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return o((i,a)=>{const l=Ho(a),c=l.droppableId,d=l.type,p=!l.isDropDisabled,f=l.renderClone;if(ke(i)){const u=i.critical;if(!At(d,u))return t;const m=ar(u,i.dimensions),h=z(i.impact)===c;return r(c,p,h,h,m,f)}if(i.phase==="DROP_ANIMATING"){const u=i.completed;if(!At(d,u.critical))return t;const m=ar(u.critical,i.dimensions);return r(c,p,Go(u.result)===c,z(u.impact)===c,m,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const u=i.completed;if(!At(d,u.critical))return t;const m=z(u.impact)===c,h=!!(u.impact.at&&u.impact.at.type==="COMBINE"),x=u.critical.droppable.id===c;return m?h?e:t:x?e:t}return t},"selector")},"makeMapStateToProps"),Bu={updateViewportMaxScroll:Ul},ju=Wr(Tu,Bu,(e,t,n)=>({...Ho(n),...e,...t}),{context:fn,areStatePropsEqual:_o})(Ru),Lu=o(({deal:e,index:t})=>e?g.jsx(gu,{draggableId:String(e.id),index:t,children:o((n,r)=>g.jsx(qo,{provided:n,snapshot:r,deal:e}),"children")}):null,"DealCard"),qo=o(({provided:e,snapshot:t,deal:n})=>{const r=he(),s=o(()=>{r(`/deals/${n.id}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"handleClick");return g.jsx("div",{className:"cursor-pointer",...e?.draggableProps,...e?.dragHandleProps,ref:e?.innerRef,onClick:s,children:g.jsx(ws,{className:`py-4 transition-all duration-200 ${t?.isDragging?"opacity-90 transform rotate-1 shadow-lg":"shadow-sm hover:shadow-md"}`,children:g.jsxs(Es,{className:"px-4 flex",children:[g.jsx(Vt,{source:"company_id",record:n,reference:"companies",link:!1,children:g.jsx(Ut,{width:20,height:20})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:n.name}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),n.category?`, ${n.category}`:""]})]})]})})})},"DealCardContent"),lr=o(()=>{const{identity:e}=it(),{data:t,total:n,isPending:r}=Wt("deals",{pagination:{page:1,perPage:1e3},sort:{field:"archived_at",order:"DESC"},filter:{"archived_at@not.is":null}}),[s,i]=v.useState(!1);if(v.useEffect(()=>{!r&&n===0&&i(!1)},[r,n]),v.useEffect(()=>{i(!1)},[t]),!e||r||!n||!t)return null;const a=t.reduce((l,c)=>{const d=new Date(c.archived_at).toDateString();return l[d]||(l[d]=[]),l[d].push(c),l},{});return g.jsxs("div",{className:"w-full flex flex-row items-center justify-center",children:[g.jsx(at,{variant:"ghost",onClick:o(()=>i(!0),"onClick"),className:"my-4",children:"View archived deals"}),g.jsx(lt,{open:s,onOpenChange:o(()=>i(!1),"onOpenChange"),children:g.jsxs(ct,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:[g.jsx(Cr,{children:"Archived Deals"}),g.jsx("div",{className:"flex flex-col gap-8",children:Object.entries(a).map(([l,c])=>g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsx("h4",{className:"font-bold",children:Mu(l)}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:c.map(d=>g.jsx("div",{children:g.jsx(qo,{deal:d})},d.id))})]},l))})]})})]})},"DealArchivedList");function Mu(e){const t=new Date(e);t.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0);const r=t.getTime()-n.getTime(),s=Math.round(r/(1e3*60*60*24));if(Math.abs(s)>7)return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long"}).format(t);const i=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});return Fu(i.format(s,"day"))}o(Mu,"getRelativeTimeString");function Fu(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(Fu,"ucFirst");const zo=o(()=>{const e=Ps();return g.jsxs("div",{className:"flex flex-col gap-8",children:[g.jsx(_u,{}),g.jsxs("div",{className:`flex gap-6 ${e?"flex-col":"flex-row"}`,children:[g.jsx(Gu,{}),g.jsx(Sr,{orientation:e?"horizontal":"vertical"}),g.jsx(ku,{})]})]})},"DealInputs"),_u=o(()=>g.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[g.jsx(Rt,{source:"name",label:"Deal name",validate:Ae(),helperText:!1}),g.jsx(Rt,{source:"description",multiline:!0,rows:3,helperText:!1})]}),"DealInfoInputs"),Gu=o(()=>g.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[g.jsx("h3",{className:"text-base font-medium",children:"Linked to"}),g.jsx(Ir,{source:"company_id",reference:"companies",children:g.jsx(Ns,{})}),g.jsx(gi,{source:"contact_ids",reference:"contacts_summary",children:g.jsx(jr,{label:"Contacts",optionText:As,helperText:!1,validate:Ae()})})]}),"DealLinkedToInputs"),ku=o(()=>{const{dealStages:e,dealCategories:t}=$e();return g.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[g.jsx("h3",{className:"text-base font-medium",children:"Misc"}),g.jsx(Ot,{source:"category",label:"Category",choices:t.map(n=>({id:n,name:n})),helperText:!1}),g.jsx(bi,{source:"amount",defaultValue:0,helperText:!1,validate:Ae()}),g.jsx(Rt,{validate:Ae(),source:"expected_closing_date",helperText:!1,type:"date",defaultValue:new Date().toISOString().split("T")[0]}),g.jsx(Ot,{source:"stage",choices:e.map(n=>({id:n.value,name:n.label})),defaultValue:"opportunity",helperText:!1,validate:Ae()})]})},"DealMiscInputs"),Yo=o(({open:e})=>{const t=he(),n=Ht(),{data:r}=dt(),s=o(()=>{t("/deals")},"handleClose"),i=Rs(),a=o(async c=>{if(!r){t("/deals");return}const d=r.filter(u=>u.stage===c.stage&&u.id!==c.id);await Promise.all(d.map(async u=>n.update("deals",{id:u.id,data:{index:u.index+1},previousData:u})));const p=d.reduce((u,m)=>({...u,[m.id]:{...m,index:m.index+1}}),{}),f=Date.now();i.setQueriesData({queryKey:["deals","getList"]},u=>u&&{...u,data:u.data.map(m=>p[m.id]||m)},{updatedAt:f}),t("/deals")},"onSuccess"),{identity:l}=it();return g.jsx(lt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:g.jsx(ct,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:g.jsx(fi,{resource:"deals",mutationOptions:{onSuccess:a},children:g.jsxs(wr,{defaultValues:{sales_id:l?.id,contact_ids:[],index:0},children:[g.jsx(zo,{}),g.jsx(Er,{children:g.jsx(Pr,{})})]})})})})},"DealCreate"),$u=o(({open:e,id:t})=>{const n=he(),r=qt(),s=o(()=>{n("/deals",void 0,void 0,void 0,{_scrollToTop:!1})},"handleClose");return g.jsx(lt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:g.jsx(ct,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?g.jsxs(Os,{id:t,mutationMode:"pessimistic",mutationOptions:{onSuccess:o(()=>{r("Deal updated"),n(`/deals/${t}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"onSuccess")},children:[g.jsx(Wu,{}),g.jsxs(wr,{children:[g.jsx(zo,{}),g.jsx(Vu,{})]})]}):null})})},"DealEdit");function Wu(){const e=Nr();return e?g.jsx(Cr,{className:"pb-0",children:g.jsxs("div",{className:"flex justify-between items-start mb-8",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Vt,{source:"company_id",reference:"companies",link:"show",children:g.jsx(Ut,{})}),g.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit ",e.name," deal"]})]}),g.jsx("div",{className:"flex gap-2 pr-12",children:g.jsx(at,{asChild:!0,variant:"outline",className:"h-9",children:g.jsx(Be,{to:`/deals/${e.id}/show`,children:"Back to deal"})})})]})}):null}o(Wu,"EditHeader");function Vu(){return g.jsx(Er,{children:g.jsxs("div",{className:"flex-1 flex justify-between",children:[g.jsx(Ar,{}),g.jsx(Pr,{})]})})}o(Vu,"EditToolbar");const Uu=o(({children:e})=>{const t=Rr(),n=Je("/deals/create",t.pathname),r=Ts(),{data:s,isPending:i}=Wt("contacts",{pagination:{page:1,perPage:1}});return i?g.jsx(Bs,{value:50}):g.jsxs("div",{className:"flex flex-col justify-center items-center gap-12",style:{height:`calc(100dvh - ${r}px)`},children:[g.jsx("img",{src:"./img/empty.svg",alt:"No deals found"}),s&&s.length>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col items-center gap-0",children:[g.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),g.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"It seems your deal list is empty."})]}),g.jsx("div",{className:"flex space-x-8",children:g.jsx(Or,{label:"Create deal"})}),g.jsx(Yo,{open:!!n}),e]}):g.jsxs("div",{className:"flex flex-col items-center gap-0",children:[g.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),g.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-4",children:["It seems your contact list is empty.",g.jsx("br",{}),g.jsx(Be,{to:"/contacts/create",className:"hover:underline",children:"Add your first contact"})," ","before creating a deal."]})]})]})},"DealEmpty"),Hu=o(({stage:e,deals:t})=>{const n=t.reduce((s,i)=>s+i.amount,0),{dealStages:r}=$e();return g.jsxs("div",{className:"flex-1 pb-8",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("h3",{className:"text-base font-medium",children:Tr(r,e)}),g.jsx("p",{className:"text-sm text-muted-foreground",children:n.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),g.jsx(ju,{droppableId:e,children:o((s,i)=>g.jsxs("div",{ref:s.innerRef,...s.droppableProps,className:`flex flex-col rounded-2xl mt-2 gap-2 ${i.isDraggingOver?"bg-muted":""}`,children:[t.map((a,l)=>g.jsx(Lu,{deal:a,index:l},a.id)),s.placeholder]}),"children")})]})},"DealColumn"),cr=o((e,t)=>{if(!t)return{};const n=e.reduce((r,s)=>(r[s.stage].push(s),r),t.reduce((r,s)=>({...r,[s.value]:[]}),{}));return t.forEach(r=>{n[r.value]=n[r.value].sort((s,i)=>s.index-i.index)}),n},"getDealsByStage"),qu=o(()=>{const{dealStages:e}=$e(),{data:t,isPending:n,refetch:r}=dt(),s=Ht(),[i,a]=v.useState(cr([],e));if(v.useEffect(()=>{if(t){const c=cr(t,e);js(c,i)||a(c)}},[t]),n)return null;const l=o(c=>{const{destination:d,source:p}=c;if(!d||d.droppableId===p.droppableId&&d.index===p.index)return;const f=p.droppableId,u=d.droppableId,m=i[f][p.index],h=i[u][d.index]??{stage:u,index:void 0};a(zu(m,{stage:f,index:p.index},{stage:u,index:d.index},i)),Yu(m,h,s).then(()=>{r()})},"onDragEnd");return g.jsx(Kd,{onDragEnd:l,children:g.jsx("div",{className:"flex gap-4",children:e.map(c=>g.jsx(Hu,{stage:c.value,deals:i[c.value]},c.value))})})},"DealListContent"),zu=o((e,t,n,r)=>{if(t.stage===n.stage){const s=r[t.stage];return s.splice(t.index,1),s.splice(n.index??s.length+1,0,e),{...r,[n.stage]:s}}else{const s=r[t.stage],i=r[n.stage];return s.splice(t.index,1),i.splice(n.index??i.length+1,0,e),{...r,[t.stage]:s,[n.stage]:i}}},"updateDealStageLocal"),Yu=o(async(e,t,n)=>{if(e.stage===t.stage){const{data:r}=await n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),s=t.index??r.length+1;e.index>s?await Promise.all([...r.filter(i=>i.index>=s&&i.index<e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index+1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})]):await Promise.all([...r.filter(i=>i.index<=s&&i.index>e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index-1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})])}else{const[{data:r},{data:s}]=await Promise.all([n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:t.stage}})]),i=t.index??s.length+1;await Promise.all([...r.filter(a=>a.index>e.index).map(a=>n.update("deals",{id:a.id,data:{index:a.index-1},previousData:a})),...s.filter(a=>a.index>=i).map(a=>n.update("deals",{id:a.id,data:{index:a.index+1},previousData:a})),n.update("deals",{id:e.id,data:{index:i,stage:t.stage},previousData:e})])}},"updateDealStage"),Ku=o(()=>{const{data:e,error:t,isPending:n}=dt();return n||t?g.jsx("div",{className:"h-8"}):g.jsx("div",{className:"flex flex-row flex-wrap gap-4 mt-4",children:e.map(r=>g.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[g.jsx(Ls,{record:r}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs(Be,{to:`/contacts/${r.id}/show`,className:"text-sm hover:underline",children:[r.first_name," ",r.last_name]}),g.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.title,r.title&&r.company_name&&" at ",r.company_name]})]})]},r.id))})},"ContactList"),dr=o(({open:e,id:t})=>{const n=he(),r=o(()=>{n("list","deals")},"handleClose");return g.jsx(lt,{open:e,onOpenChange:o(s=>!s&&r(),"onOpenChange"),children:g.jsx(ct,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?g.jsx(Ms,{id:t,children:g.jsx(Ju,{})}):null})})},"DealShow"),Ju=o(()=>{const{dealStages:e}=$e(),t=Nr();return t?g.jsx(g.Fragment,{children:g.jsxs("div",{className:"space-y-2",children:[t.archived_at?g.jsx(Xu,{}):null,g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start mb-8",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Vt,{source:"company_id",reference:"companies",link:"show",children:g.jsx(Ut,{})}),g.jsx("h2",{className:"text-2xl font-semibold",children:t.name})]}),g.jsx("div",{className:`flex gap-2 ${t.archived_at?"":"pr-12"}`,children:t.archived_at?g.jsxs(g.Fragment,{children:[g.jsx(Zu,{record:t}),g.jsx(Ar,{})]}):g.jsxs(g.Fragment,{children:[g.jsx(Qu,{record:t}),g.jsx(Fs,{})]})})]}),g.jsxs("div",{className:"flex gap-8 m-4",children:[g.jsxs("div",{className:"flex flex-col mr-10",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Expected closing date"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm",children:Gs(new Date(t.expected_closing_date))?_s(new Date(t.expected_closing_date),"PP"):"Invalid date"}),new Date(t.expected_closing_date)<new Date?g.jsx(br,{variant:"destructive",children:"Past"}):null]})]}),g.jsxs("div",{className:"flex flex-col mr-10",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Budget"}),g.jsx("span",{className:"text-sm",children:t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),t.category&&g.jsxs("div",{className:"flex flex-col mr-10",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Category"}),g.jsx("span",{className:"text-sm",children:t.category})]}),g.jsxs("div",{className:"flex flex-col mr-10",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Stage"}),g.jsx("span",{className:"text-sm",children:Tr(e,t.stage)})]})]}),!!t.contact_ids?.length&&g.jsx("div",{className:"m-4",children:g.jsxs("div",{className:"flex flex-col min-h-12 mr-10",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Contacts"}),g.jsx(ks,{source:"contact_ids",reference:"contacts_summary",children:g.jsx(Ku,{})})]})}),t.description&&g.jsxs("div",{className:"m-4 whitespace-pre-line",children:[g.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Description"}),g.jsx("p",{className:"text-sm leading-6",children:t.description})]}),g.jsxs("div",{className:"m-4",children:[g.jsx(Sr,{className:"mb-4"}),g.jsx($s,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},empty:g.jsx(Vs,{reference:"deals"}),children:g.jsx(Ws,{reference:"deals"})})]})]})]})}):null},"DealShowContent"),Xu=o(()=>g.jsx("div",{className:"bg-orange-500 px-6 py-4",children:g.jsx("h3",{className:"text-lg font-bold text-white",children:"Archived Deal"})}),"ArchivedTitle"),Qu=o(({record:e})=>{const[t]=Hs(),n=he(),r=qt(),s=Br(),i=o(()=>{t("deals",{id:e.id,data:{archived_at:new Date().toISOString()},previousData:e},{onSuccess:o(()=>{n("list","deals"),r("Deal archived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not archived",{type:"error"})},"onError")})},"handleClick");return g.jsxs(at,{onClick:i,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[g.jsx(di,{className:"w-4 h-4"}),"Archive"]})},"ArchiveButton"),Zu=o(({record:e})=>{const t=Ht(),n=he(),r=qt(),s=Br(),{mutate:i}=Us({mutationFn:o(()=>t.unarchiveDeal(e),"mutationFn"),onSuccess:o(()=>{n("list","deals"),r("Deal unarchived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not unarchived",{type:"error"})},"onError")}),a=o(()=>{i()},"handleClick");return g.jsxs(at,{onClick:a,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[g.jsx(li,{className:"w-4 h-4"}),"Send back to the board"]})},"UnarchiveButton"),ef=o(e=>{const{filterValues:t,displayedFilters:n,setFilters:r}=ti(),{identity:s}=it(),i=o(()=>{const a={...t};typeof t.sales_id<"u"?delete a.sales_id:a.sales_id=s&&s?.id,r(a,n)},"handleChange");return g.jsx("div",{className:"mt-auto pb-2.25",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(qs,{id:"only-mine",checked:typeof t.sales_id<"u",onCheckedChange:i}),g.jsx(zs,{htmlFor:"only-mine",children:"Only companies I manage"})]})})},"OnlyMineInput"),sf=o(()=>{const{identity:e}=it(),{dealCategories:t}=$e();if(!e)return null;const n=[g.jsx(Ys,{source:"q",alwaysOn:!0}),g.jsx(Ir,{source:"company_id",reference:"companies",children:g.jsx(Ks,{label:!1,placeholder:"Company"})}),g.jsx(Ot,{source:"category",emptyText:"Category",choices:t.map(r=>({id:r,name:r}))}),g.jsx(ef,{source:"sales_id",alwaysOn:!0})];return g.jsx(Js,{perPage:100,filter:{"archived_at@is":null},title:!1,sort:{field:"index",order:"DESC"},filters:n,actions:g.jsx(nf,{}),pagination:null,children:g.jsx(tf,{})})},"DealList"),tf=o(()=>{const e=Rr(),t=Je("/deals/create",e.pathname),n=Je("/deals/:id/show",e.pathname),r=Je("/deals/:id",e.pathname),{data:s,isPending:i,filterValues:a}=dt(),l=a&&Object.keys(a).length>0;return i?null:!s?.length&&!l?g.jsx(g.Fragment,{children:g.jsxs(Uu,{children:[g.jsx(dr,{open:!!n,id:n?.params.id}),g.jsx(lr,{})]})}):g.jsxs("div",{className:"w-full",children:[g.jsx(qu,{}),g.jsx(lr,{}),g.jsx(Yo,{open:!!t}),g.jsx($u,{open:!!r&&!t,id:r?.params.id}),g.jsx(dr,{open:!!n,id:n?.params.id})]})},"DealLayout"),nf=o(()=>g.jsxs(Xs,{children:[g.jsx(Qs,{}),g.jsx(Zs,{}),g.jsx(Or,{label:"New Deal"})]}),"DealActions");export{sf as default};
//# sourceMappingURL=DealList-a2vSiezT.js.map
